@import 'mixins/sussy';
@import 'mixins/theme';

@import 'functions/theme';

/*! Theme: Peak v1.18.6 */
// Libraries
/* scss-combine:../../node_modules/normalize.scss/normalize */
/*! normalize.scss v0.1.0 | MIT License | based on git.io/normalize */

/**
 * 1. Set default font family to sans-serif.
 * 2. Prevent iOS text size adjust after orientation change, without disabling
 *    user zoom.
 */

html {
  font-family: sans-serif; /* 1 */
  -ms-text-size-adjust: 100%; /* 2 */
  -webkit-text-size-adjust: 100%; /* 2 */
}

/**
 * Remove default margin.
 */

body {
  margin: 0;
}

/* HTML5 display definitions
   ========================================================================== */

/**
 * Correct `block` display not defined for any HTML5 element in IE 8/9.
 * Correct `block` display not defined for `details` or `summary` in IE 10/11
 * and Firefox.
 * Correct `block` display not defined for `main` in IE 11.
 */

article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
main,
menu,
nav,
section,
summary {
  display: block;
}

/**
 * 1. Correct `inline-block` display not defined in IE 8/9.
 * 2. Normalize vertical alignment of `progress` in Chrome, Firefox, and Opera.
 */

audio,
canvas,
progress,
video {
  display: inline-block; /* 1 */
  vertical-align: baseline; /* 2 */
}

/**
 * Prevent modern browsers from displaying `audio` without controls.
 * Remove excess height in iOS 5 devices.
 */

audio:not([controls]) {
  display: none;
  height: 0;
}

/**
 * Address `[hidden]` styling not present in IE 8/9/10.
 * Hide the `template` element in IE 8/9/11, Safari, and Firefox < 22.
 */

[hidden],
template {
  display: none;
}

/* Links
   ========================================================================== */

/**
 * Remove the gray background color from active links in IE 10.
 */

a {
  background-color: transparent;
}

/**
 * Improve readability when focused and also mouse hovered in all browsers.
 */

a:active,
a:hover {
  outline: 0;
}

/* Text-level semantics
   ========================================================================== */

/**
 * Address styling not present in IE 8/9/10/11, Safari, and Chrome.
 */

abbr[title] {
  border-bottom: 1px dotted;
}

/**
 * Address style set to `bolder` in Firefox 4+, Safari, and Chrome.
 */

b,
strong {
  font-weight: bold;
}

/**
 * Address styling not present in Safari and Chrome.
 */

dfn {
  font-style: italic;
}

/**
 * Address variable `h1` font-size and margin within `section` and `article`
 * contexts in Firefox 4+, Safari, and Chrome.
 */

h1 {
  font-size: 2em;
  margin: 0.67em 0;
}

/**
 * Address styling not present in IE 8/9.
 */

mark {
  background: #ff0;
  color: #000;
}

/**
 * Address inconsistent and variable font size in all browsers.
 */

small {
  font-size: 80%;
}

/**
 * Prevent `sub` and `sup` affecting `line-height` in all browsers.
 */

sub,
sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}

sup {
  top: -0.5em;
}

sub {
  bottom: -0.25em;
}

/* Embedded content
   ========================================================================== */

/**
 * Remove border when inside `a` element in IE 8/9/10.
 */

img {
  border: 0;
}

/**
 * Correct overflow not hidden in IE 9/10/11.
 */

svg:not(:root) {
  overflow: hidden;
}

/* Grouping content
   ========================================================================== */

/**
 * Address margin not present in IE 8/9 and Safari.
 */

figure {
  margin: 1em 40px;
}

/**
 * Address differences between Firefox and other browsers.
 */

hr {
  -moz-box-sizing: content-box;
  box-sizing: content-box;
  height: 0;
}

/**
 * Contain overflow in all browsers.
 */

pre {
  overflow: auto;
}

/**
 * Address odd `em`-unit font size rendering in all browsers.
 */

code,
kbd,
pre,
samp {
  font-family: monospace, monospace;
  font-size: 1em;
}

/* Forms
   ========================================================================== */

/**
 * Known limitation: by default, Chrome and Safari on OS X allow very limited
 * styling of `select`, unless a `border` property is set.
 */

/**
 * 1. Correct color not being inherited.
 *    Known issue: affects color of disabled elements.
 * 2. Correct font properties not being inherited.
 * 3. Address margins set differently in Firefox 4+, Safari, and Chrome.
 */

button,
input,
optgroup,
select,
textarea {
  color: inherit; /* 1 */
  font: inherit; /* 2 */
  margin: 0; /* 3 */
}

/**
 * Address `overflow` set to `hidden` in IE 8/9/10/11.
 */

button {
  overflow: visible;
}

/**
 * Address inconsistent `text-transform` inheritance for `button` and `select`.
 * All other form control elements do not inherit `text-transform` values.
 * Correct `button` style inheritance in Firefox, IE 8/9/10/11, and Opera.
 * Correct `select` style inheritance in Firefox.
 */

button,
select {
  text-transform: none;
}

/**
 * 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio`
 *    and `video` controls.
 * 2. Correct inability to style clickable `input` types in iOS.
 * 3. Improve usability and consistency of cursor style between image-type
 *    `input` and others.
 */

button,
html input[type="button"], /* 1 */
input[type="reset"],
input[type="submit"] {
  -webkit-appearance: button; /* 2 */
  cursor: pointer; /* 3 */
}

/**
 * Re-set default cursor for disabled elements.
 */

button[disabled],
html input[disabled] {
  cursor: default;
}

/**
 * Remove inner padding and border in Firefox 4+.
 */

button::-moz-focus-inner,
input::-moz-focus-inner {
  border: 0;
  padding: 0;
}

/**
 * Address Firefox 4+ setting `line-height` on `input` using `!important` in
 * the UA stylesheet.
 */

input {
  line-height: normal;
}

/**
 * It's recommended that you don't attempt to style these elements.
 * Firefox's implementation doesn't respect box-sizing, padding, or width.
 *
 * 1. Address box sizing set to `content-box` in IE 8/9/10.
 * 2. Remove excess padding in IE 8/9/10.
 */

input[type="checkbox"],
input[type="radio"] {
  box-sizing: border-box; /* 1 */
  padding: 0; /* 2 */
}

/**
 * Fix the cursor style for Chrome's increment/decrement buttons. For certain
 * `font-size` values of the `input`, it causes the cursor style of the
 * decrement button to change from `default` to `text`.
 */

input[type="number"]::-webkit-inner-spin-button,
input[type="number"]::-webkit-outer-spin-button {
  height: auto;
}

/**
 * 1. Address `appearance` set to `searchfield` in Safari and Chrome.
 * 2. Address `box-sizing` set to `border-box` in Safari and Chrome
 *    (include `-moz` to future-proof).
 */

input[type="search"] {
  -webkit-appearance: textfield; /* 1 */
  -moz-box-sizing: content-box;
  -webkit-box-sizing: content-box; /* 2 */
  box-sizing: content-box;
}

/**
 * Remove inner padding and search cancel button in Safari and Chrome on OS X.
 * Safari (but not Chrome) clips the cancel button when the search input has
 * padding (and `textfield` appearance).
 */

input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-decoration {
  -webkit-appearance: none;
}

/**
 * Define consistent border, margin, and padding.
 */

fieldset {
  border: 1px solid #c0c0c0;
  margin: 0 2px;
  padding: 0.35em 0.625em 0.75em;
}

/**
 * 1. Correct `color` not being inherited in IE 8/9/10/11.
 * 2. Remove padding so people aren't caught out if they zero out fieldsets.
 */

legend {
  border: 0; /* 1 */
  padding: 0; /* 2 */
}

/**
 * Remove default vertical scrollbar in IE 8/9/10/11.
 */

textarea {
  overflow: auto;
}

/**
 * Don't inherit the `font-weight` (applied by a rule above).
 * NOTE: the default cannot safely be changed in Chrome and Safari on OS X.
 */

optgroup {
  font-weight: bold;
}

/* Tables
   ========================================================================== */

/**
 * Remove most spacing between table cells.
 */

table {
  border-collapse: collapse;
  border-spacing: 0;
}

td,
th {
  padding: 0;
}

/* scss-combine:../../node_modules/bc-baseline/baseline */
/* scss-combine:lib/extends */
%clearfix {
  *zoom: 1;

  &:before,
  &:after {
    display: table;
    content: "";
  }

  &:after {
    clear: both;
  }
}

%font-smoothing {
  -moz-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  -webkit-font-smoothing: antialiased;
}


/* scss-combine:styles/general */
// scss-lint:disable VariableForProperty ColorVariable

// Box model
// See: http://www.paulirish.com/2012/box-sizing-border-box-ftw/

html {
  box-sizing: border-box;
}

*,
*:before,
*:after {
  box-sizing: inherit;
}

// - Links

a {
  text-decoration: none;
}

// - Headers

h1,
h2,
h3,
h4,
h5,
h6 {
  line-height: 1.25;
}

// - Basic elements

img {
  max-width: 100%;
}

ul,
ol,
dl {
  padding: 0;
  margin: 0;
}

ul {
  list-style: outside none;
}

ol {
  list-style: outside decimal;
}

hr {
  height: 2px;
  border: 0;
}

blockquote {
  > *:first-child {
    margin-top: 0;
  }

  > *:last-child {
    margin-bottom: 0;
  }
}

figure {
  margin: 0;
}

iframe {
  max-width: 100%;
  border: 0;
}

pre {
  padding: 1em;
  background: #fafafa;
}

.show-for-sr {
  // scss-lint:disable ImportantRule
  position: absolute !important;
  width: 1px;
  height: 1px;
  overflow: hidden;
  clip: rect(1px, 1px, 1px, 1px);
}

/* scss-combine:styles/button */
.button {
  display: inline-block;
  line-height: normal;
  text-align: center;
  cursor: pointer;
  border: 0;
  border-radius: 0;
  -webkit-appearance: none;

  & + & {
    margin-left: 5px;
  }
}

/* scss-combine:styles/form */
// scss-lint:disable VariableForProperty ColorVariable


.form-fieldset {
  padding: 0;
  margin: 0;
  border: 0;
}

// - Fields, a wrapper for a label and input

// .form-field {}

// - Labels

// <label class="form-label">
//   <div class="form-label-text">Label</div>
//   ... inputs ...
// </label>
.form-label {
  display: block;
}

.form-label-text,
.form-label-text-inline {
  display: inline-block;
}

// - Inputs

// text, email, password, search, telephone, tel, number, textarea, select
.form-input {
  display: block;
  border: 1px solid;
  border-color: inherit;
  border-radius: 0;
  box-sizing: border-box;

  &::placeholder { opacity: 0.8; }
}

textarea.form-input { resize: vertical; }

#{$all-text-inputs} {
  &.form-input {
    -webkit-appearance: none;
  }
}

// Wrapper for checkbox and radio inputs
// <div class="form-field form-inline">
//   <label class="form-label">
//     <span class="form-label-text">Check Me</span>
//     <input class="form-input" type="checkbox">
//   </label>
// </div>
.form-inline {
  .form-label-text {
    display: inline-block;
    vertical-align: middle;
  }

  .form-input {
    display: inline-block;
  }
}

/* scss-combine:styles/table */
table {
  margin: 1em 0;
  background: transparent;
  border: 1px solid;
  border-collapse: separate;
  border-top: 0;
  border-color: inherit;

  &.table-clean {
    border: 0;
    border-radius: 0;
  }
}

td,
th {
  padding: 20px;
  border-top: 1px solid;
  border-top-color: inherit;

  .table-clean & {
    border: 0;
  }
}

th {
  font-weight: bold;
}

td {
  border-left: 1px solid;
  border-left-color: inherit;

  &:first-child {
    border-left: 0;
  }
}








/* scss-combine:../../node_modules/slick-carousel/slick/slick */
/* Slider */

.slick-slider {
    position: relative;
    display: block;
    box-sizing: border-box;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    -ms-touch-action: pan-y;
    touch-action: pan-y;
    -webkit-tap-highlight-color: transparent;
}
.slick-list {
    position: relative;
    overflow: hidden;
    display: block;
    margin: 0;
    padding: 0;

    &:focus {
        outline: none;
    }

    &.dragging {
        cursor: pointer;
        cursor: hand;
    }
}
.slick-slider .slick-track,
.slick-slider .slick-list {
    -webkit-transform: translate3d(0, 0, 0);
    -moz-transform: translate3d(0, 0, 0);
    -ms-transform: translate3d(0, 0, 0);
    -o-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
}

.slick-track {
    position: relative;
    left: 0;
    top: 0;
    display: block;
    margin-left: auto;
    margin-right: auto;

    &:before,
    &:after {
        content: "";
        display: table;
    }

    &:after {
        clear: both;
    }

    .slick-loading & {
        visibility: hidden;
    }
}
.slick-slide {
    float: left;
    height: 100%;
    min-height: 1px;
    [dir="rtl"] & {
        float: right;
    }
    img {
        display: block;
    }
    &.slick-loading img {
        display: none;
    }

    display: none;

    &.dragging img {
        pointer-events: none;
    }

    .slick-initialized & {
        display: block;
    }

    .slick-loading & {
        visibility: hidden;
    }

    .slick-vertical & {
        display: block;
        height: auto;
        border: 1px solid transparent;
    }
}
.slick-arrow.slick-hidden {
    display: none;
}

@import "../../node_modules/slick-carousel/slick/slick-theme";



// Modules
/* scss-combine:../../node_modules/bc-tabs/dist/tabs */
// Style the tab themselves.
.tab-title {
  display: inline-block;
  padding: 5px 10px;
  font-weight: normal;

  &.active {
    font-weight: bold;
  }
}

.tab-content-panel {
  display: none;

  &.active {
    display: block;
  }
}

/* scss-combine:../../node_modules/bc-modal/src/scss/modal */
.modal-overlay {
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 980;
  background-color: rgba(#000, 0.3);
  display: none;
  opacity: 0;

  &.animating,
  &.visible {
    display: block;
    transition: opacity 0.3s ease;
  }

  &.visible {
    opacity: 1;
  }
}

.modal-wrapper {
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 1000;
  display: none;
  overflow: hidden;
  -webkit-overflow-scrolling: touch;
  outline: 0;
  opacity: 0;

  &.animating,
  &.visible {
    display: block;
    transition: opacity 0.2s ease;
  }

  &.animating-in {
    transition-delay: 0.1s;
  }

  &.visible {
    overflow-x: hidden;
    overflow-y: auto;
    opacity: 1;
  }
}

.modal {
  position: relative;
  margin-left: auto;
  margin-right: auto;
}





// Settings
/* scss-combine:general/user-settings */
// Theme Variables
// scss-lint:disable NameFormat
$font-primary: stencilFontFamily("primary-font");
$font-secondary: stencilFontFamily("secondary-font");

// Convert to bool by comparing strings
$header-use-primary-font: (stencilString("header-use-primary-font") == "true");

$header-logo-alignment: stencilString('global-header-logo-alignment');

$color-body: stencilColor('color-body');
$color-background: stencilColor('color-background');
$color-background-secondary: stencilColor('color-background-secondary');
$color-message-bar: stencilColor('color-message-bar');
$color-message-text: stencilColor('color-message-text');
$color-nav: stencilColor('color-nav');
$color-nav-active: stencilColor('color-nav-active');
$color-nav-background: stencilColor('color-nav-background');
$font-body: $font-primary;

$color-accent: stencilColor('color-accent');
$color-border: stencilColor('color-border');
$color-link: stencilColor('color-link');
$color-link-hover: stencilColor('color-link-hover');

$color-input: stencilColor('color-input');

$heading-font: stencilString('font-secondary');
$heading-weight: 700;
$heading-color: #333;

$section-title-color: stencilColor('color-section-title');

$meta-font: stencilString('font-secondary');;
$meta-weight: 400;
$color-meta: stencilColor('color-meta');
$color-bold: stencilColor('color-bold');

$button-font: stencilString('font-primary');;
$button-weight: 400;

$border-size: stencilNumber("border-size", "px");
$main-nav-spacing: stencilNumber("global-main-nav-spacing", "px");

$color-button: stencilColor('color-button');
$color-button-background: stencilColor('color-button-background');
$color-button-background-hover: stencilColor('color-button-background-hover');

$color-button-secondary: stencilColor('color-button-secondary');
$color-button-secondary-background: stencilColor('color-button-secondary-background');

$color-button-tertiary: stencilColor('color-button-tertiary');
$color-button-tertiary-background: stencilColor('color-button-tertiary-background');

$color-topbar-background: stencilColor('color-topbar-background');
$color-topbar-text: stencilColor('color-topbar-text');

$color-mini-cart-background: stencilColor('color-mini-cart-background');

$color-carousel-background: stencilColor('color-carousel-background');
$color-carousel-navigation: stencilColor('color-carousel-navigation');
$color-carousel-title: stencilColor('color-carousel-title');
$color-carousel-text: stencilColor('color-carousel-text');

$color-modal-background: stencilColor('color-modal-background');

$color-footer-background: stencilColor('color-footer-background');
$color-footer-text: stencilColor('color-footer-text');

$color-collection-item-overlay: stencilColor('color-collection-item-overlay');

/* scss-combine:general/variables */
// Breakpoints
$breakpoint-xs: 480px;
$breakpoint-s: 768px;
$breakpoint-m: 1024px;
$breakpoint-l: 1440px;
$breakpoint-xl: 1920px;

// Grid
$max-width: 1230px;
$font-size: 15px;
$gutter: 15px;
$double-gutter: $gutter * 2;
$border-radius: 4px;

$susy: (
  columns: 12,
  gutters: 0.25,
  debug: (
    image: hide,
    output: background,
  )
);

// Easing
$ease-out-quad: cubic-bezier(0.250, 0.460, 0.450, 0.940);
$ease-out-back: cubic-bezier(0.175, 0.885, 0.320, 1.275);

// Transitions
$transition-navbar: 0.2s linear;

// Alert Colours
$color-info: #00529B;
$color-success: #8BC53F;
$color-warning: #F3B603;
$color-error: #FF5E5D;
$color-alert-text: #fff;

// Colors
$color-topbar-sep: contrast(#000, 100%);

// Fonts
$roboto: 'Roboto Condensed', sans-serif;
$roboto-slab: 'Roboto Slab', serif;

// Measurements
$topbar-height: rem-calc(56px);
$navbar-height: rem-calc(100px);
$compressed-navbar-height: rem-calc(56);
$expanded-nav-height: $topbar-height + $navbar-height;
$modal-width-narrow: rem-calc(684px);
$section-padding: rem-calc(80px);
$blog-index-width: rem-calc(645px);
$mini-cart-width: 400px;

// Z Indices
$nav-mobile-z: 1000;

// Core
$account-light-color: $color-background;
$account-accent-color: $color-body;
$account-border-color: $color-border;
$account-link-color: $color-accent;
$account-gutter: $gutter;
$account-font-size: $font-size;



/* scss-combine:general/extends */
/*----------  Text treatments  ----------*/

%body-text-treatment {
  font-family: $font-body;
  color: $color-body;
  font-size: $font-size;
  line-height: 1.666;
}

%heading-text-treatment {
  text-transform: uppercase;
  letter-spacing: 0.05em;
  font-family: $heading-font;
  font-weight: $heading-weight;
  color: $heading-color;
}

%page-header-treatment {
  background-color: $color-background-secondary;
  padding: rem-calc(40px) rem-calc(62px);
  text-align: center;
}

%section-title-text-treatment {
  @extend h3;
  text-align: center;
  color: $section-title-color;
}

%meta-text-treatment {
  text-transform: uppercase;
  letter-spacing: 0.05em;
  font-family: $meta-font;
  font-weight: $meta-weight;
  color: $color-meta;
}

%top-bar-font {
  text-transform: uppercase;
  font-size: 13px;
  font-weight: 300;
}

%link-text-treatment {
  padding-bottom: 2px;
  font-weight: 400;
  text-transform: uppercase;
  letter-spacing: 0.077em;
  font-size: rem-calc(13);
  text-decoration: underline;

  @if ($font-secondary == "Roboto Condensed") {
    font-family: $font-secondary;
  }

  &:hover {
    text-decoration: none;
    color: $color-link-hover;
  }
}

%list-style {
  padding-left: 1.25em;
  margin-bottom: 2em;

  li {
    margin-bottom: 1em;
  }
}

/*----------  Layout  ----------*/

%wrapper {
  @extend %wrapper-padding;
  margin-right: auto;
  margin-left: auto;
  max-width: $max-width;

  /* Solves border-box issue with max-width in IE8 */
  .lt-ie9 & { width: $max-width; }
}

%wrapper-padding {
  padding-left: 30px - $gutter;
  padding-right: 30px - $gutter;
}

%full-width {
  padding-left: 30px;
  padding-right: 30px;
}

%ghost-center {
  content: " ";
  display: inline-block;
  height: 100%;
  margin-right: -0.25em;
  vertical-align: middle;
}

/*----------  Forms  ----------*/

%form-base-style {
  @include container;
  background-color: $color-background-secondary;
  padding: 50px $gutter;
  margin-top: 56px;

  @include media($min: $breakpoint-s) {
    padding: 50px;
  }
}

/*----------  Utils  ----------*/

%top-bar-sep {
  position: absolute;
  top: 50%;
  display: inline-block;
  width: 1px;
  height: 25px;
  margin-left: 18px;
  vertical-align: top;
  content: '';
  pointer-events: none;
  background-color: $color-border;
  transform: translateY(-50%);

  @if (lightness($color-topbar-background) < 70) {
    opacity: 0.3;
  }
}

%fill-parent {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}

%inline-middle {
  display: inline-block;
  vertical-align: middle;
}

%center-x {
  position: relative;
  left: 50%;
  transform: translateX(-50%);
}

%background-position-svg {
  background-position: 50% 50%;
  background-repeat: no-repeat;
  background-size: contain;
}

%background-position-img {
  background-position: 50% 50%;
  background-repeat: no-repeat;
  background-size: cover;
}

%placeholder {
  padding-top: 2px;
  // letter-spacing: 0.1em;
  color: lighten($color-input, 6%);
  text-transform: uppercase;
  font-size: rem-calc(13);
}

/*----------  Button  ----------*/

%button-inverse {
  &:hover {
    box-shadow: 0 0 0 $border-size $color-button inset;
  }
}

%button-secondary-inverse {
  color: lighten($color-button-secondary, 100%);
  box-shadow: 0 0 0 $border-size lighten($color-button-secondary, 100%) inset;

  &:hover {
    box-shadow: 0 0 0 $border-size transparent inset;
  }
}


// Core
/* scss-combine:core/account */
// Default Variables

$account-link-color: #888 !default;
$account-light-color: #fff !default;
$account-accent-color: #5dc5e3 !default;
$account-border-color: #e4e4e4 !default;
$account-gutter: 30px !default;
$account-font-size: 15px !default;
$account-border-radius: 0 !default;
$account-text-color: #5f5f5f !default;

$account-card-background-color: #f5f5f5 !default;

$giftcard-nav-use-default-styles: true !default;

$account-breakpoint-x-small: 400px !default; // the account table columns change to full-width
$account-breakpoint-small: 620px !default; // menu changes from full-width to column
$account-breakpoint-medium: 900px !default; // menu changes from 35% to 25% width

// Internal Variables

$account-font-size-heading: $account-font-size + 2 !default;

$account-text-color-light: lighten($account-text-color,20%) !default;

$account-gutter-inner: $account-gutter / 2 !default;

$auth-gutter: $account-gutter !default;
$auth-font-size: $account-font-size !default;

// Imports

/* scss-combine:account/components/layout */
.account-wrapper {
  @extend %clearfix;
  font-size: $account-font-size;
}

.account-nav,
.account-body {
  vertical-align: top;
}

.account-body {
  @media screen and (min-width: $account-breakpoint-small) {
    float: right;
    width: 65%;
    padding-left: $account-gutter-inner;
  }

  @media screen and (min-width: $account-breakpoint-medium) {
    width: 75%;
  }

  > :first-child {
    margin-top: 0;
  }

  .account-nav-hidden & {
    float: none;
    width: 100%;
    padding-left: 0;
    margin-left: 0;
  }
}

.account-nav {
  @media screen and (max-width: $account-breakpoint-small - 1) {
    margin-bottom: $account-gutter;
  }

  @media screen and (min-width: $account-breakpoint-small) {
    float: left;
    width: 35%;
    padding-right: $account-gutter-inner;
  }

  @media screen and (min-width: $account-breakpoint-medium) {
    width: 25%;
  }
}

/* scss-combine:account/components/forms */
.account-wrapper {
  .form-label-text {
    display: inline-block;
    width: 100%;
    margin-bottom: 5px;
  }

  .form-field-checkbox,
  .form-field-radio {
    .form-label-text { width: auto; }
  }

  .form-field {
    margin-bottom: $account-gutter-inner;
  }

  .form-input {
    width: 100%;

    &.account-form-half {
      width: 50%;
    }
  }

  .form-actions {
    clear: both;
  }
}

.account-form-column-container {
  @extend %clearfix;

  .form-field {
    @media screen and (min-width: 480px) {
      float: left;
      width: 50%;

      &:nth-child(odd) { padding-right: $account-gutter-inner; }
      &:nth-child(even) { padding-left: $account-gutter-inner; }
    }
  }
}

/* scss-combine:account/components/table */
.account-wrapper {
  table {
    width: 100%;
    margin-top: $account-gutter-inner;
    margin-bottom: $account-gutter-inner;
  }

  td,
  th {
    padding: $account-gutter-inner;
  }
}

.account-table-tight {
  th,
  td {
    padding: 10px 0;
    border-bottom: 1px solid $account-border-color;
  }
}

/* scss-combine:account/components/list */
// Layout
// Each list item has 3 sections: thumbnail, body, and badge.

.account-items {
  margin-bottom: $account-gutter;
}

.account-item {
  position: relative;
  display: table;
  width: 100%;
  border-bottom: 1px solid $account-border-color;

  &:first-of-type {
    border-top: 1px solid $account-border-color;
  }
}

.account-item-thumbnail,
.account-item-body,
.account-item-badge,
.account-item-actions {
  padding-top: $account-gutter-inner;
  padding-bottom: $account-gutter-inner;

  @media screen and (min-width: $account-breakpoint-x-small) {
    display: table-cell;
    vertical-align: top;
  }
}

// Link
// Makes the entire item clickable

.account-item-link {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 100;
}

// Thumbnail

.account-item-thumbnail {
  min-width: 100px;

  img {
    height: auto;
    max-width: 100px;
  }
}

// Body

.account-item-body {
  width: 100%;

  @media screen and (min-width: $account-breakpoint-x-small) {
    .account-item-thumbnail + & {
      padding-left: $account-gutter-inner;
    }
  }
}

.account-item-title {
  margin-top: 3px;
  font-size: $account-font-size;

  a {
    color: inherit;
  }
}

.account-item-title-large {
  font-size: $account-font-size * 1.2;
}

.account-item-description {
  margin-top: 0;
  margin-bottom: 5px;
  color: $account-text-color;
}

.account-item-details {
  @extend %clearfix;
  font-size: $account-font-size;
  color: $account-text-color;
}

.account-item-detail {
  float: left;
  margin-top: $account-gutter-inner;
  margin-right: $account-gutter;
}

//scss-lint:disable VariableForProperty
.account-item-detail-title {
  display: block;
  margin-top: 0;
  margin-bottom: 3px;
  font-size: 12px;
  font-weight: normal;
  letter-spacing: 1px;
  color: mix($account-light-color,$account-text-color,60%);
  text-transform: uppercase;
}

// Badge

.account-item-badge,
.account-item-actions {
  white-space: nowrap;
}

/* scss-combine:account/components/header */
.account-header {
  display: table;
  width: 100%;
  margin-bottom: $account-gutter-inner;
}

.account-heading,
.account-toolbar {
  display: table-cell;
  vertical-align: baseline;
}

.account-toolbar {
  text-align: right;

  * {
    display: inline;
  }
}

.account-tool {
  position: relative;
  z-index: 10;
  display: inline-block;
  padding: 0;
  background: transparent;
  margin-left: 10px;
  cursor: pointer;
  color: inherit;
  border: 0;

  &:hover { color: $account-link-color; }

  &:focus { outline: 0; }
}

/* scss-combine:account/components/navigation */
.account-nav-list {
  padding: 0;
  margin-bottom: $account-gutter-inner;
  list-style: none;
  border: 1px solid $account-border-color;
  border-radius: $account-border-radius;
}

.account-nav-item {
  color: $account-link-color;
  border-top: 1px solid $account-border-color;

  &:first-child {
    border-top: 0;
  }

  &.is-active {
    color: $account-accent-color;
    border-left: 3px solid $account-accent-color;
  }
}

.account-nav-link {
  display: block;
  padding: 15px;
  color: inherit;
}

.account-nav-badge {
  float: right;
}

/* scss-combine:account/components/pagination */
.account-wrapper .pagination {
  margin-top: $account-gutter-inner;
}

/* scss-combine:account/components/card */
%account-card-style {
  background: $account-card-background-color;

  .form-input {
    background-color: $account-light-color;
  }
}

.account-card {
  @extend %account-card-style;
  padding: $account-gutter-inner;
  margin: $account-gutter-inner 0;
  border-radius: $account-border-radius;
}

/* scss-combine:account/components/toggle */
// Set the initial toggle state to hidden
.account-toggle-hidden {
  display: none;
}

/* scss-combine:account/components/status */
// Status
// A label used to mark the status of an item

.account-status {
  padding: 6px 10px 5px;
  margin: 0;
  font-size: 12px;
  font-weight: normal;
  line-height: 1;
  letter-spacing: 1px;
  color: $account-light-color;
  text-align: center;
  text-transform: uppercase;
  background: #8e8e8e; // TODO: Colors for each status
}

/* scss-combine:account/components/shipments */
// Shipments
// A list of shipments made for an order. Shown on the Order Details page.

.account-shipments {
  margin-bottom: $account-gutter;
}

.account-shipments-table {
  th,
  td {
    padding: 10px 0;
    text-align: left;
  }

  th {
    padding: $account-gutter-inner 0 0;
    border-top: 1px solid $account-border-color;
  }

  // Override default margins
  .account-wrapper & {
    margin-top: 0;
    margin-bottom: 0;
  }
}


/* scss-combine:account/pages/address */
// Address List

.account-page-add-address {
  .account-content {
    padding-top: $account-gutter-inner;
    border-top: 1px solid $account-border-color;
  }
}

.account-address-detail {
  display: block;
}

// Add Address

.account-address-form {
  padding-top: $account-gutter-inner;

  @media screen and (min-width: $account-breakpoint-medium) {
    .form-field {
      float: left;
      width: 50%;
      padding-right: $account-gutter-inner;

      &:nth-of-type(2n) {
        padding-right: 0;
        padding-left: $account-gutter-inner;
      }

      &:nth-of-type(2n + 1){
        clear: left;
      }
    }
  }

  .form-actions {
    padding-top: $account-gutter-inner;
  }
}

/* scss-combine:account/pages/orders-receipt */
.account-page-orders-receipt .account-content {
  padding-top: $account-gutter-inner;
  border-top: 1px solid $account-border-color;
}

// Summary

.account-receipt-summaries {
  @extend %clearfix;
}

.account-receipt-summary {
  float: left;
  width: 33%;
  padding-right: $account-gutter;
}

.account-receipt-summary-title {
  margin-top: 5px;
  margin-bottom: 10px;
  font-size: $account-font-size;
}

.account-receipt-summary-address {
  line-height: 1.5;
}

.account-receipt-detail {
  margin-bottom: 5px;
}

.account-receipt-detail-title {
  color: $account-text-color-light;
}

// Comments

.account-receipt-comments {
  white-space: pre-line;
}

// Receipt Items (products)

.account-receipt-items {
  padding-top: $account-gutter-inner;
}

.account-receipt-download {
  margin: 10px 0;
}

// Totals

.account-receipt-totals {
  display: table;
  width: 50%;
  margin-left: 50%;
}

.account-receipt-total {
  display: table-row;
  margin-bottom: $account-gutter-inner;
}

.account-receipt-total-title,
.account-receipt-total-value {
  display: table-cell;
  padding-top: $account-gutter-inner;
  padding-bottom: $account-gutter-inner;
  border-top: 1px solid $account-border-color;

  .account-receipt-total:first-of-type & {
    border-top: 0;
  }
}

.account-receipt-total-title {
  font-weight: normal;
  letter-spacing: 1px;
  color: $account-text-color-light;
}

.account-receipt-total-value {
  text-align: right;
}

/* scss-combine:account/pages/recent-items */

/* scss-combine:account/pages/returns */
// Return form

.account-return-table {
  th {
    text-align: left;

    &:last-of-type {
      text-align: right;
    }
  }

  .form-field {
    margin-bottom: 0;
  }
}

.account-return-fields {
  margin-top: $account-gutter;

  .form-field-select {
    width: 50%;
  }
}

/* scss-combine:account/pages/wishlists */
.account-wishlists {
  margin-bottom: 30px;
}

/* scss-combine:account/pages/messages */
// Listing

.account-messages-table.table-clean {
  border-bottom: 1px solid $account-border-color;

  td {
    padding-right: 0;
    padding-left: 0;
    vertical-align: top;
    border-top: 1px solid $account-border-color;
  }
}

.account-messages-table-date {
  width: 22%;
  text-align: right;
}

.account-message-subject {
  margin-top: 0;
  margin-bottom: 10px;
  font-size: $account-font-size-heading;
  font-weight: 500;

  .account-message-is-reply &:before {
    padding-right: 5px;
    content: "\21c9";
  }

  .account-message-is-read & {
    color: $account-text-color-light;
  }
}

.account-message-content {
  padding-right: $account-gutter;
  font-size: $account-font-size;
  line-height: 1.5;
  color: $account-text-color;
  white-space: pre-line;

  .account-message-is-read & {
    color: lighten($account-text-color-light,10%);
  }
}

.account-message-date {
  color: $account-text-color-light;
}

// Form

.account-messages-form-subject {
  width: 50%;
}

/* scss-combine:account/pages/download */
// List

.account-download {
  padding: $account-gutter-inner 0 0;
  margin: $account-gutter-inner 0;
  border-top: 1px solid $account-border-color;
}

.account-download-title {
  margin: 0;
  font-size: 1em;
}

.account-download-link {
  color: inherit;
  text-decoration: underline;
}

.account-download-filename {
  font-size: 1.2em;
}

.account-download-filesize {
  padding-left: 5px;
  font-weight: normal;
  color: $account-text-color-light;
}

.account-download-description {
  padding-top: 10px;
  padding-bottom: 10px;
}

.account-download-expiry {
  font-size: 0.9em;
  color: $account-text-color-light;
}

.account-download-expiry-item {
  display: block;
  padding-bottom: 5px;

  &:last-of-type {
    padding-bottom: 0;
  }
}

// Gallery

.account-downloads-gallery-image {
  text-align: center;
}

.account-downloads-gallery-thumbs {
  @extend %clearfix;
  text-align: center;
}

.account-downloads-gallery-thumb {
  display: inline-block;
  width: 10%;
  height: 10%;
  padding: 0 2px;
  vertical-align: middle;
  cursor: pointer;

  img {
    width: 100%;
    height: auto;
  }
}

/* scss-combine:account/pages/invoice */
.account-invoice-date {
  margin-top: -20px;
  font-size: $account-font-size;
}

// Address

.account-invoice-addresses {
  @extend %clearfix;
  margin-top: $account-gutter;
  margin-bottom: $account-gutter;
}

.account-invoice-address {
  float: left;
  margin-right: $account-gutter;
}

.account-invoice-address-title {
  margin-top: 5px;
  margin-bottom: 10px;
  font-size: $account-font-size;
}

.account-invoice-address-body {
  line-height: 1.5;
}

// List

.account-invoice-table {
  .account-wrapper & {
    margin-bottom: 0;
  }

  th,
  td {
    padding-right: $account-gutter-inner;
    text-align: left;
    vertical-align: top;

    &:nth-of-type(0n+3) {
      width: 10%;
    }

    &:last-of-type {
      width: 160px;
      padding-right: 0;
      text-align: right;
    }
  }

  td:first-of-type {
    width: 60px + 25px;
  }
}

.account-invoice-item-thumbnail {
  width: 60px;
  height: auto;
}

.account-invoice-item-name {
  margin-bottom: 5px;
  font-weight: bold;
}

.account-invoice-total-title {
  font-weight: bold;
}

// Totals

.account-invoice-totals {
  .account-wrapper & {
    width: auto;
    margin-top: 0;
    margin-left: auto;
  }

  th,
  td {
    padding-right: $account-gutter-inner;

    &:last-of-type {
      width: 160px;
      padding-right: 0;
      text-align: right;
    }
  }
}

/* scss-combine:account/pages/settings */
.account-page-settings {
  .alert:first-of-type {
    margin-top: 0;
  }

  .account-content {
    padding-top: $account-gutter-inner;
    border-top: 1px solid $account-border-color;
  }
}

.account-settings-form {
  @extend %clearfix;
  padding-top: $account-gutter-inner;

  .form-field {
    float: left;
    width: 50%;
    padding-right: $account-gutter-inner / 2;
    vertical-align: top;

    &:nth-of-type(2n+0) {
      padding-right: 0;
      padding-left: $account-gutter-inner / 2;
    }
  }

  .form-actions {
    padding-top: $account-gutter-inner;
  }
}


/* scss-combine:account/pages/auth-login */

.account-page-login .alert {
  max-width: 860px;
  margin-top: 0;
  margin-right: auto;
  margin-bottom: $account-gutter;
  margin-left: auto;
}

.account-login-wrapper {
  max-width: 860px;
  margin-right: auto;
  margin-left: auto;

  @media screen and (min-width: $account-breakpoint-small) {
    display: table;
    width: 100%;
    table-layout: fixed;
  }
}

.account-page-login .account-sub-heading {
  margin: 0 0 20px;
}

.account-login,
.account-create {
  @media screen and (min-width: $account-breakpoint-small) {
    display: table-cell;
    vertical-align: top;
  }
}

// Login Form

.account-login {
  @media screen and (max-width: $account-breakpoint-small - 1) {
    margin-bottom: $account-gutter;
  }

  @media screen and (min-width: $account-breakpoint-small) {
    padding: $account-gutter-inner (30px + $account-gutter-inner) $account-gutter-inner 0;
  }
}

.account-login-button {
  margin-right: $account-gutter-inner;
}

// New Account

.account-create {
  padding: $account-gutter-inner;
  background: $account-card-background-color;
}

.account-create-intro {
  &:empty {
    display: none;
  }
}

.account-create-facts {
  padding-left: 20px;
  margin-bottom: 30px;
  list-style: disc;

  li:empty {
    display: none;
  }
}

/* scss-combine:account/pages/auth-forgot */
.account-page-forgot .account-body {
  width: 100%;
  max-width: 600px;
  margin-right: auto;
  margin-left: auto;
  text-align: center;
  float: none;
}

.account-forgot-form {
  display: table;
  width: 100%;
  margin-top: $account-gutter;

  .form-field,
  .form-actions {
    display: table-cell;
    text-align: left;
    vertical-align: bottom;
  }

  .form-actions {
    width: 1px;
    padding-left: 10px;
  }
}

/* scss-combine:account/pages/auth-create */
.account-page-create {
  .account-header {
    padding-bottom: $account-gutter-inner;
    margin-bottom: $account-gutter;
    border-bottom: 1px solid $account-border-color;
  }

  .account-body {
    max-width: 860px;
    margin-right: auto;
    margin-left: auto;
  }
}

.account-create-form {
  .g-recaptcha > div {
    margin: 0 auto;
  }

  @media screen and (min-width: $account-breakpoint-small) {
    .form-field {
      float: left;
      width: 50%;
      padding-right: $account-gutter-inner;

      &:nth-of-type(2n) {
        padding-right: 0;
        padding-left: $account-gutter-inner;
      }

      &:nth-of-type(2n + 1) {
        clear: left;
      }
    }
  }
}

.account-create-details,
.account-create-address {
  @extend %clearfix;
  padding-bottom: $account-gutter-inner;
  margin-bottom: $account-gutter;
  border-bottom: 1px solid $account-border-color;
}

.account-create-form-actions {
  text-align: center;
}

.account-create-captcha {
  display: inline-block;
  vertical-align: middle;

  @media screen and (max-width: $account-breakpoint-small - 1) {
    margin-bottom: $account-gutter-inner;
  }

  @media screen and (min-width: $account-breakpoint-small) {
    margin-right: $account-gutter-inner;
  }
}

/* scss-combine:account/pages/auth-created */
.account-page-created .account-body {
  float: none;
  width: 100%;
  max-width: 600px;
  margin-right: auto;
  margin-left: auto;
  text-align: center;

  p {
    margin-bottom: $account-gutter;
    line-height: 1.5;
  }

  em {
    font-family: monospace;
    font-style: normal;
    font-weight: bold;
    background: $account-card-background-color;
  }
}

/* scss-combine:account/pages/auth-new-password */
.account-page-new-password .account-content {
  width: 100%;
  max-width: 400px;
  margin-right: auto;
  margin-left: auto;
}

.new-password-requirements {
  margin-bottom: $account-gutter;
  text-align: center;
}


/* scss-combine:account/pages/gift-certificate */
// (optional) gift card nav

@if ($giftcard-nav-use-default-styles) {
  .giftcard-nav {
    padding: $account-gutter * 2;
    margin-bottom: $account-gutter * 2;
    text-align: center;
  }

  .giftcard-nav-item {
    display: inline-block;
    margin: 0 1em;
    color: $account-link-color;

    &.is-active { color: $account-text-color; }
  }
}

.giftcard-heading-container {
  margin-bottom: $account-gutter * 2;
  text-align: center;
}


// Purchase

.giftcard-form-help-message {
  display: block;
  margin-top: 6px;
}

.giftcard-form-preview {
  iframe { width: 100%; }
}

.giftcard-single-theme {
  display: none;
}


// Check balance

.giftcard-balance-container {
  max-width: 600px;
  margin: 0 auto;
}

.form-giftcard-balance {
  position: relative;

  .form-field-title {
    position: absolute;
    left: -9999px;
  }

  .form-field-control {
    display: block;

    @media screen and (min-width: 600px + ($account-gutter-inner * 2)) {
      margin-right: calc(30% + #{$account-gutter-inner});
    }
  }

  .form-actions {
    @media screen and (min-width: 600px + ($account-gutter-inner * 2)) {
      position: absolute;
      top: 0;
      right: 0;
      width: 30%;
    }
  }

  .button {
    width: 100%;
  }
}


// Redeem

.giftcard-redeem-steps {
  line-height: 1.5;

  li { margin-bottom: 0.75em; }
}


/* scss-combine:core/unavailable */
.unavailable-container {
  display: table;
  text-align: center;
  width: 100%;
  height: 100vh;
  font-size: 14px;

  @media (min-width: 400px) {
    font-size: 16px;
  }
}

.unavailable-container-inner {
  display: table-cell;
  padding: 20px;
  vertical-align: middle;
}

.unavailable-logo {
  margin-top: 0;
}

.unavailable-heading {
  font-size: 1.5em; // 24px desktop
}

.unavailable-message {
  max-width: 400px;
  margin: 0 auto;
  font-size: 0.875em; // 14px desktop
}

/* scss-combine:core/swatch */
// none swatch value for non-required swatches
.form-field-swatch {
  .swatch-none {
    .swatch {
      overflow: hidden;
      border: 1px solid rgba(#000, 0.15);

      svg {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
      }
    }
  }
}


// Module overrides
/* scss-combine:modules/dropdown */
.dropdown {
  position: relative;
}

.dropdown-panel {
  position: absolute;
  top: 100%;
  left: 0;
  z-index: 1000;
  visibility: hidden;
  transition: 0.2s 1s; /* delay of 1 seconds on hover off */
  max-height: calc(100vh - 112px);
  min-width: 100%;
  padding: rem-calc(10);
  overflow: auto;

  &.animating,
  &.visible {
    visibility: visible;
    transition-delay: 0s; /* react immediately on hover */
  }

  &.animating-in,
  &.animating-out {
    opacity: 0;
    transform: translateY(-10px);
    transition: opacity 0.5s ease, transform 0.3s ease;
  }

  &.visible {
    opacity: 1;
    transform: translateY(0);
  }
}

.icon-arrow-down {
  display: inline-block;
  margin-top: -0.03em;
  margin-left: 0.5em;
  vertical-align: middle;
  transition: transform 0.3s ease;

  .dropdown-open & {
    transform: rotate(-180deg);
  }

  .nav-mobile-panel-parent .nav-mobile-item-parent & {
    margin-top: -0.1rem;
  }
}

// Dropdown tier Styles
.tier-toggle {
  padding: rem-calc(5) 0 !important; //override padding from .main-nav-bar dropdown selector
  background: transparent;
}

.tier-open > a {
  color: contrast($color-nav-active, 100%);
}

.tier-panel {
  position: static;
  display: none;
  padding: 0 0 0 rem-calc(10);
  margin: 0;
  overflow: hidden;
  background: transparent;

  &.tier-open { display: block; }

  &.animating,
  &.visible {
    display: block;
  }

  &.animating-in,
  &.animating-out {
    opacity: 0;
    transition: opacity 0.5s ease;
  }

  &.visible {
    opacity: 1;
  }

  a {
    white-space: nowrap;

    .main-dropdown & {
      line-height: 30px;
    }
  }
}

/* scss-combine:modules/modal */
.modal-overlay {
  background-color: rgba($color-modal-background, 0.95);
}

.modal {
  margin-bottom: 5vw;
  width: 90%;
  max-width: $max-width;
  padding: $gutter;

  .loaded & {
    background-color: #fff;
  }

   &.modal-quick-shop {
    top: 5vw;
  }

  .icon-spinner {
    display: block;
    width: 30px;
    height: 30px;
    margin: 0 auto;
  }
}

.button-modal-close {
  position: absolute;
  top: 19px;
  right: 20px;
  color: contrast($color-modal-background, 100%);
  background: none;

  .visible & {
    position: fixed;
  }

  &:hover {
    color: $color-accent;
  }

  .icon-close {
    width: 16px;
    height: 16px;
  }
}

.modal-close {
  position: absolute;
  top: -18px;
  right: -18px;
  display: block;
  width: 36px;
  height: 36px;
  border-radius: 50%;
  text-align: center;
  line-height: 36px;
  background-color: $color-body;
  color: contrast($color-body, 100%, 70);
  transition: all 0.3s ease;

  &:hover {
    background-color: $color-accent;
    color: contrast($color-body, 100%, 70);
  }

  .icon-close {
    @include centerer;
  }
}

/* scss-combine:modules/tabs */
.tabs {
  margin-bottom: 55px;
  font-size: 0;
  text-align: center;
}

.tab-title {
  padding: 0;
  font-size: $font-size;
  border: 2px solid $color-border;

  &:hover {
    color: contrast($color-nav-active, 100%);
    background-color: $color-accent;
    border-color: $color-accent;
  }

  &.active {
    color: contrast($color-nav-active, 100%, 60);
    background-color: $color-nav-active;
    border-color: $color-nav-active;
  }

  &:not(:first-child) {
    margin-left: -1px;
  }

  &:first-child {
    border-radius: $border-radius;

    a { cursor: default; }

    &:not(:last-child) {
      border-radius: $border-radius 0 0 $border-radius;

      a { cursor: pointer; }
    }
  }

  &:last-child:not(:first-child) {
    border-radius: 0 $border-radius $border-radius 0;
  }

  a {
    display: block;
    min-width: 190px;
    padding: 14px;
    color: inherit;

    &:hover {
      color: inherit;
    }
  }
}

.tabs-content {
  position: relative;

  .icon-spinner {
    position: absolute;
    top: 0;
    left: 50%;
    margin-left: -10px;
  }
}

.tab-content-panel {
  &.active ~ .icon-spinner {
    display: none;
  }
}

/* scss-combine:modules/baguetteBox */
/*!
 * baguetteBox.js
 * @author  feimosi
 * @version 1.4.1
 * @url https://github.com/feimosi/baguetteBox.js
 */

// scss-lint:disable QualifyingElement, IdSelector, SelectorFormat

%arrow-button {
  top: calc(50% - 30px);
  width: 44px;
  height: 60px;
}

#baguetteBox-overlay {
  position: fixed;
  top: 0;
  left: 0;
  z-index: 1000000;
  display: none;
  width: 100%;
  height: 100%;
  overflow: hidden;
  background-color: rgba($color-modal-background, 0.98);
  opacity: 0;
  transition: opacity 0.5s ease;

  &.visible { opacity: 1; }

  .full-image {
    position: relative;
    display: inline-block;
    width: 100%;
    height: 100%;
    text-align: center;

    figure {
      display: inline;
      height: 100%; // Opera 12 image stretching fix
      margin: 0;
    }

    img {
      display: inline-block;
      width: auto;
      height: auto;
      max-width: 100%;
      max-height: 90%;
      vertical-align: middle;
    }

    figcaption {
      position: absolute;
      bottom: 0;
      display: block;
      width: 100%;
      padding-bottom: 16px;
      font-weight: 300;
      line-height: 1.8;
      text-align: center;
      white-space: normal;
    }

    &:before {
      display: inline-block;
      width: 1px;
      height: 50%;
      margin-right: -1px;
      content: "";
    }
  }
}

#baguetteBox-slider {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  white-space: nowrap;
  transition: left 0.4s ease, transform 0.4s ease;

  &.bounce-from-right {
    animation: bounceFromRight 0.4s ease-out;
  }

  &.bounce-from-left {
    animation: bounceFromLeft 0.4s ease-out;
  }
}

@keyframes bounceFromRight{
  0% { margin-left: 0; }
  50% { margin-left: -30px; }
  100% { margin-left: 0; }
}

@keyframes bounceFromLeft{
  0% { margin-left: 0; }
  50% { margin-left: 30px; }
  100% { margin-left: 0; }
}

.baguetteBox-button {
  position: absolute;
  padding: 0;
  margin: 0;
  font-size: 1.6em;
  cursor: pointer;
  background-color: transparent;
  border: 0;
  border-radius: 15%;
  outline: none;
  transition: background-color 0.4s ease;

  &#next-button {
    @extend %arrow-button;
    right: 2%;
  }

  &#previous-button {
    @extend %arrow-button;
    left: 2%;
  }

  &#close-button {
    top: 20px;
    right: 20px;
    width: 30px;
    height: 30px;
  }

  // Firefox fix
  svg {
    position: absolute;
    top: 0;
    left: 0;

    g {
      stroke: contrast($color-modal-background, 100%);
    }
  }
}

// http://tobiasahlin.com/spinkit/
.spinner:not(.button) {
  position: absolute;
  top: 50%;
  left: 50%;
  display: inline-block;
  width: 40px;
  height: 40px;
  margin-top: -20px;
  margin-left: -20px;
}

.double-bounce1,
.double-bounce2 {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border-radius: 50%;
  opacity: 0.6;
  animation: bounce 2s infinite ease-in-out;
}

.double-bounce2 { animation-delay: -1s; }

@keyframes bounce {
  0%, 100% { transform: scale(0); }

  50% { transform: scale(1); }
}

/* scss-combine:modules/meganav */
.mega-nav-variant-container {
  display: block;
  max-width: 100%;
  min-width: span(3 of 12);
  max-height: rem-calc(500px);
  text-align: center;
  margin: 0;
  margin-left: auto;
  margin-right: auto;
  padding-bottom: rem-calc(40px);

  &:after {
    content: " ";
    display: block;
    clear: both;
  }
}

.mega-nav-root-list,
.mega-nav-child-list {
  float: left;
  margin-right: 15px;
  vertical-align: top;

  li {
    text-align: left;
    padding: 5px;

    &:hover {
      cursor: pointer;
    }

    a {
      color: contrast($color-nav-active, 100%);
    }
  }
}

.mega-nav-root-list {
  @include span(3);
  border-right: 1px solid contrast($color-topbar-background, 10%);
  display: block;
  font-size: rem-calc(18px);
  font-weight: 600;
  height: 460px;
  letter-spacing: 0.077em;
  max-height: 460px;
  overflow: hidden;
  overflow-y: auto;
  position: relative;
  text-transform: uppercase;

  li {
    display: block;

    a { letter-spacing: normal; }

    &.active a { color: $color-accent; }

    &:hover a {
      color: contrast($color-nav-active, 100%);
      text-decoration: underline;
    }
  }
}

.mega-nav-child-container {
  display: block;
  float: left;
  max-width: span(9 of 12);
  max-height: rem-calc(400px);
  padding-left: rem-calc(30px);
}

.mega-nav-child-list-container {
  display: none;

  &.animating,
  &.visible {
    display: block;
  }

  // Prevent jumping because 2 menus are showing momentarily
  &.animating {
    position: absolute;
  }

  &.animating-in,
  &.animating-out {
    opacity: 0;
    transform: translateY(-10px);
    transition: opacity 0.5s ease, transform 0.3s ease;
  }

  &.visible {
    opacity: 1;
    transform: translateY(0);
  }
}

.mega-nav-child-header {
  display: block;
  font-family: $roboto;
  color: contrast($color-topbar-background, 100%);
  margin-top: 0;
  margin-bottom: rem-calc(10px);
  padding: 0;
  text-align: left;
  width: 100%;
}

.mega-nav-child-list-back {
  display: block;
  height: rem-calc(20px);
  margin-bottom: rem-calc(15px);
  text-align: left;
  font-size: 12px;
  margin-left: -7px;

  svg {
    margin-top: -3px;
    vertical-align: middle;
    transform: rotate(90deg) !important;
    color: contrast($color-topbar-background, 100%);

    path { transition: all 0.2s $ease-out-quad; }
  }

  a {
    height: 100%;
    color: contrast($color-topbar-background, 100%);
    text-transform: uppercase;
    text-decoration: underline;
    transition: all 0.2s $ease-out-quad;
  }

  &:hover {
    a{
      text-decoration: none;
      color: $color-link-hover;
    }

    svg path { fill: $color-link-hover; }
  }
}

.mega-nav-child-list-inner-container {
  display: flex;
  height: rem-calc(360px);
}

.mega-nav-child-list {
  display: flex;
  max-height: 100%;
  flex-wrap: wrap;
  flex-direction: column;
  float: left;
  font-family: $roboto-slab;
  font-size: 13px;

  .mega-nav-child-item {
    align-self: baseline;
    margin-right: rem-calc(60px);
    min-height: 0;
    min-width: 0;
    padding: 5px 5px 5px 0;
    text-align: left;

    a {
      color: $color-nav;
      font-size: rem-calc(16px);
      font-weight: lighter;
      padding: 0;
    }

    &:hover {
      > a { color: $color-link-hover; }
      .mega-nav-arrow svg path { fill: $color-link-hover; }
    }
  }
}

.mega-nav-arrow {
  display: inline-block;
  height: 100%;
  margin-left: rem-calc(2px);
  margin-top: 3px;
  vertical-align: top;
  width: rem-calc(13px);

  .icon-arrow-down {
    transform: rotate(-90deg);
    vertical-align: middle;

    path { fill: $color-nav; }
  }
}

/* scss-combine:modules/carousel */
/*----------  Carousel  ----------*/

.carousel {
  cursor: ew-resize;
  cursor: grab;

  .js & .carousel-item {
    opacity: 0;
    transition: opacity 0.6s ease;
  }

  .js &.slick-initialized .carousel-item {
    opacity: 1;
  }

  .container {
    position: relative;

    @include media($max: $breakpoint-m - 1) {
      padding: 0;
    }
  }
}

.carousel-item {
  width: 100%;

  > a {
    display: block;
  }
}

.carousel-item-image {
  @include maintain-ratio(2.4 1);
  background-size: cover;

  .ratio-natural & {
    height: auto;
    padding-bottom: 0;
  }

  .ratio-3-1 & { @include maintain-ratio(3 1); }

  .ratio-16-9 & { @include maintain-ratio(16 9); }
}

.slick-slide {
  .home-carousel-image  {
    @extend .sr-only;

    .ratio-natural & {
      position: static !important; // override !important in .sr-only
      display: block;
      width: 100%;
      height: auto;
    }
  }

  .product-images-container & {
    height: auto !important; // override height from JS causing slides to be given incorrect height
  }
}

.carousel-item-info {
  padding: 37px 0;
  text-align: center;
  opacity: 0;
  transform: translate(0, 100%);
  transition: all 0.2s ease-out;
  background-color: rgba($color-carousel-background, 0.8);

  @include media($min: $breakpoint-s) {
    position: absolute;
    left: $gutter * 3;
    bottom: 0;
    width: 380px;
    padding: 25px 31px 32px;
    text-align: left;
  }

  &.show {
    opacity: 1;
    transform: translate(0, 0);
  }

  .carousel-item-title {
    margin: 0;
    font-family: $font-secondary;
    font-weight: 400;
    font-size: 40px;
    color: $color-carousel-title;
  }

  .carousel-item-caption {
    font-size: 15px;
    color: rgba($color-carousel-text, 0.75);
  }

  .carousel-item-link {
    font-size: 13px;
    color: $color-accent;
  }
}

.carousel-navigation-item {
  position: absolute;
  top: 50%;
  z-index: 1;
  padding: 1rem;
  color: $color-carousel-navigation;
  cursor: pointer;
  transform: translateY(-50%);

  @include media($min: $breakpoint-m - 1) {
    display: none !important;
  }

  &.previous { left: 0; }
  &.next { right: 0; }

  .icon {
    height: 24px;
    width: 15px;
  }
}

.slick-dots {
  position: absolute;
  // Calculate the ratio of 2.4:1 and convert it to a viewport width
  top: (1 / 2.4 * 100) * 1vw;
  left: 50%;
  transform: translateX(-50%) translateY(-34px);
  list-style: none;
  margin: 0 0 30px 0;
  line-height: 1;
  text-align: center;

  @include media($min: $breakpoint-s) {
    top: auto;
  }

  // Calculate the ratio of 3:1 and convert it to a viewport width
  .ratio-3-1 & { top: (1 / 3 * 100) * 1vw; }

  // Calculate the ratio of 16:9 and convert it to a viewport width
  .ratio-16-9 & { top: (9 / 16 * 100) * 1vw; }

  li {
    display: inline-block;
    width: 16px;
    height: 16px;
    border: 2px solid $color-carousel-navigation;
    border-radius: 50%;
    margin: 0 4px;
    cursor: pointer;
    transition: all 0.3s ease;

    &:hover {
      background-color: $color-accent;
      border-color: $color-accent;
    }
  }

  .slick-active {
    border-color: $color-accent;
  }

  button {
    display: none;
  }
}


// General
/* scss-combine:general/general */
/* General */

body {
  @extend %body-text-treatment;
  background-color: $color-background;

  &.scroll-locked { overflow: hidden; }
}

/* Links */

a {
  color: $color-link;
  transition: color 0.2s $ease-out-quad;

  &:hover {
    color: $color-link-hover;
  }
}

.link {
  @extend %link-text-treatment;
}

/* Headers */

h1,
h2,
h3,
h4,
h5,
h6 {
  line-height: 1.25;

  a {
    color: inherit;

    &:hover {
      color: $color-accent;
    }
  }
}

h1,
h3,
h5 {
  font-weight: 400;
}

h1,
h3,
h5 {
  @if ($font-secondary == "Roboto Condensed") {
    text-transform: uppercase;
  }

  font-family: $font-secondary, sans-serif;
  color: $color-bold;
}

h2,
h4 {
  font-family: $font-primary;
  font-weight: 300;
  text-transform: none;
}

h1 { font-size: rem-calc(36); }
h2 { font-size: rem-calc(28); }
h3 { font-size: rem-calc(24); }
h4 { font-size: rem-calc(20); }
h5 {
  @if ($font-secondary == "Roboto Condensed") {
    font-weight: 700;
  }

  font-size: rem-calc(17);
}

h6 {
  @if ($font-secondary == "Roboto Condensed") {
    font-family: $font-secondary;
  }

  text-transform: uppercase;
  font-size: rem-calc(13);
  font-weight: 700;
  letter-spacing: 0.0625em;
  color: $color-bold;
}

/* Utility classes */

.text-center {
  text-align: center;
}

.sr-only {
  @extend .show-for-sr;
}

.hidden {
  display: none;
}

/* Basic elements */

hr {
  background: $color-border;
  height: 1px;
}

cite {
  color: $color-meta;
}

img {
  max-width: 100%;
  height: auto;

  // Hide lazy-loading images while they are loading
  &:not([src]) {
    visibility: hidden;
  }
}

svg {
  fill: currentColor;
}

.list-bulleted {
  margin: 1em 0 1em 1.5em;
  list-style: disc;
}

/* scss-combine:general/button */
/* Buttons */
button {
  border: 0;
}

.button {
  padding: 1.0625em;
  font-family: $button-font;
  font-size: 16px;
  font-weight: $button-weight;
  line-height: 1.3125; // 21/16
  color: $color-button;
  background-color: $color-button-background;
  border-radius: 4px;
  box-shadow: 0 0 0 $border-size transparent inset;
  transition: all 0.2s $ease-out-quad;

  &:hover {
    color: $color-button;
    background-color: $color-button-background-hover;
  }

  &.inverse {
    @extend %button-inverse;
  }

  &.button-wide {
    padding-left: 3em;
    padding-right: 3em;
  }

  &.button-small {
    padding: 0.25em 0.5em;
    font-size: 13px;
  }

  &.button-short {
    padding: 0.75em 1.5em;
  }

  &.button-secondary {
    color: $color-button-secondary;
    background: $color-button-secondary-background;
    box-shadow: 0 0 0 $border-size $color-button-secondary inset;

    &:hover {
      color: lighten($color-button-secondary, 100%);
      background-color: $color-button-secondary;
    }

    &.inverse {
      @extend %button-secondary-inverse;
    }
  }

  &.button-tertiary {
    color: $color-button-tertiary;
    background: $color-button-tertiary-background;

    &:hover {
      color: $color-button-tertiary-background;
      box-shadow: 0 0 0 $border-size $color-button-tertiary-background inset;
      background-color: transparent;
    }
  }

  &:disabled,
  &.button-disabled {
    cursor: not-allowed;
    opacity: 0.6;
  }

  &.spinner {
    position: relative;

    &.progress {
      .button-text {
        opacity: 0.1;
      }
    }
  }

  .icon-spinner {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 20px;
    height: 20px;
    margin: -10px 0 0 -10px;
  }
}

.button-group {
  @extend %clearfix;
  display: inline-block;
}

.button-group-item {
  position: relative;
  float: left;
  height: 45px;
  min-width: 45px;
  padding: 12px;
  font-family: $font-secondary;
  font-size: rem-calc(13px);
  line-height: 1;
  color: $color-meta;
  text-align: center;
  background-color: transparent;
  border: 2px solid $color-border;
  transition: all 0.3s ease;

  + .button-group-item {
    margin-left: -2px;
  }

  &:hover {
    background-color: $color-accent;
    border-color: $color-accent;
    color: contrast($color-nav-active, 100%);
  }

  &:first-child {
    border-radius: $border-radius 0 0 $border-radius;
  }

  &:last-child {
    border-radius: 0 $border-radius $border-radius 0;
  }

  &.active {
    z-index: 1;
    color: contrast($color-nav-active, 100%, 60);
    background-color: $color-nav-active;
    border-color: $color-nav-active;
  }

  &.disabled,
  &.active {
    pointer-events: none;
    cursor: default;
  }

  .icon-grid-view {
    width: 16px;
    height: 16px;
  }

  .icon-list-view {
    width: 17px;
    height: 16px;
  }
}

/* scss-combine:general/form */
/*----------  Forms  ----------*/

.form-field {
  margin-bottom: rem-calc(28);
}

.form-label {
  font-weight: 400;

  &.checkbox {
    .form-label-text {
      margin-bottom: 0;
    }
  }
}

.form-input {
  display: block;
  padding: rem-calc(19 17 18);
  color: $color-input;
  border: 0;
  border-radius: $border-radius;
  transition: border-color 0.2s $ease-out-quad;

  @if ($font-secondary == "Roboto Condensed") {
    font-family: $font-secondary;
  }

  &:not([type="radio"]):not([type="checkbox"]):not(.quantity-input) {
    box-shadow: 0 0 0 $border-size $color-border inset;
  }

  &:not(textarea):not([type="radio"]):not([type="checkbox"]) {
    height: rem-calc(55);
  }

  &::placeholder {
    @extend %placeholder;
  }

  &:focus {
    outline: none;
  }

  &.form-input-short {
    padding: rem-calc(14 17 13);
    height: rem-calc(45);
  }
}

.form-radio,
.form-checkbox {
  display: inline-block;
  vertical-align: middle;

  + .form-label-text {
    display: inline-block;
    font-weight: 300;
    margin-bottom: rem-calc(10);
    margin-left: rem-calc(10);
  }
}

.form-select-wrapper {
  position: relative;
  display: block;

  &:after {
    @include icon-arrow-down($color-meta);
    position: absolute;
    top: 50%;
    right: 20px;
    display: inline-block;
    width: 9px;
    height: 6px;
    margin-top: -3px;
    pointer-events: none;
    content: "";
  }

  .form-select { width: 100%; }
}

.form-select {
  height: rem-calc(55);
  padding: 0 rem-calc(36) 0 rem-calc(17);
  background-color: $color-background;
  appearance: none;

  // For IE 10+
  &::-ms-expand { display: none; }

  &.form-input-short {
    height: rem-calc(45);
    padding: 0 rem-calc(36) 0 rem-calc(17);
  }
}

.form-label-text,
.form-field-title {
  display: block;
  margin: 0 rem-calc(10) rem-calc(8px) 0;
  font-weight: normal;
}

.form-field-title {
  .required-text {
    display: none;

    .form-required & {
      display: inline-block;
    }
  }
}

.input-group {
  @include layout-group;
}

.input-group-item {
  @include layout-group-item;
  vertical-align: top;

  &:first-child {
    .button {
      border-radius: $border-radius 0 0 $border-radius;
      margin-right: -2px;
    }
  }

  &:last-child {
    .button {
      border-radius: 0 $border-radius $border-radius 0;
      margin-left: -2px;
    }
  }

  &.form-field {
    width: 99%;
  }

  .form-input {
    width: 100%;
  }
}

// ---------------------------------------------------------------- */
// Date Field Components

.form-field-date {
  @extend %clearfix;

  .form-select-wrapper { float: left; }

  .form-date-year { width: 44%; }

  .form-date-month {
    width: 25%;
    margin-right: 3%;
    margin-left: 3%;
  }

  .form-date-day { width: 25%; }
}

/*----------  Form Errors  ----------*/

.form-error {
  color: $color-error;
  border: 1px solid $color-error;

  &::placeholder {
    color: lighten($color-error,30%);
  }
}

.form-error-message {
  color: $color-error;
}

.form-inline-message {
  display: block;
  margin-top: rem-calc(10);
  clear: left;

  .form-field-invalid & {
    color: $color-error;
  }
}

/* scss-combine:general/table */
/* Tables */

table {
  color: $color-body;
  border-color: $color-border;
}

th {
  @extend %heading-text-treatment;
  color: $color-input;
}

table.geotrust-ssl-seal-table {
  margin-top: 30px;
  margin-bottom: 0;
  border: 0;

  td {
    padding: 0;
    border: 0;
  }
}

/* scss-combine:general/alerts */
.alert {
  position: relative;
  padding: rem-calc(16) rem-calc(32) rem-calc(16) rem-calc(16);
  font-size: rem-calc(14);
  color: $color-alert-text;
  text-align: center;
  transition: opacity 0.3s $ease-out-quad;

  &.dismissed { opacity: 0; }

  &.hidden,
  &.alert-dynamic { display: none; }

  &.animating,
  &.visible {
    display: block;
  }

  // initial state for enter transition
  &.animating-in,
  &.animating-out {
    opacity: 0;
    transition: opacity 0.3s $ease-out-quad;
  }

  // final states for both in and out
  &.visible {
    transform: translateX(0);
    opacity: 1;
  }

  .alert-dismiss {
    position: absolute;
    top: rem-calc(24);
    right: rem-calc(16);
    width: rem-calc(12);
    height: rem-calc(12);
    line-height: 0;
    color: transparent;
    cursor: pointer;

    &:hover { opacity: 1; }
  }

  &.alert-success,
  &.success {
    background-color: $color-success;

    .alert-dismiss { @include icon-close(darken($color-success, 20%)); }
  }

  &.alert-error,
  &.error {
    background-color: $color-error;

    .alert-dismiss { @include icon-close(darken($color-error, 30%)); }
  }

  &.alert-info,
  &.neutral {
    background-color: $color-info;

    .alert-dismiss { @include icon-close(darken($color-info, 30%)); }
  }

  a:not(.alert-dismiss) {
    color: $color-alert-text;
    text-decoration: underline;

    &:hover {
      text-decoration: none;
    }
  }
}

/* scss-combine:general/global */
/*----------  Spinner  ----------*/

.loading-overlay {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 100;
  background-color: rgba($color-background, 0.8);

  .icon-spinner {
    position: fixed;
    top: 50%;
    left: 50%;
    margin: -10px 0 0 -10px;
  }
}


/*----------  Animations  ----------*/

.icon-spinner {
  width: 20px;
  height: 20px;
  animation: spin 0.75s linear infinite;
}

@keyframes spin {
  100% { transform: rotate(360deg); }
}


/*----------  Page  ----------*/

.page-header {
  @extend %page-header-treatment;

  .page-title {
    margin: 0 auto;
  }
}

.section-title {
  @extend %section-title-text-treatment;
  margin: 0 0 2.083em; //50/24
  font-size: 24px;
}

.page-content,
.product-description,
.blog-content {
  ul,
  ol {
    @extend %list-style;
  }

  ul {
    list-style: disc;
  }

  a {
    color: $color-accent;

    &:hover {
      text-decoration: underline;
    }
  }

  img {
    margin-bottom: 2em;
  }

  .feedflare {
    img {
      margin-bottom: 0;
    }
  }

  .page-feed {
    h6 {
      margin-top: 0;
    }

    li {
      margin-bottom: 0;
    }
  }
}


/*----------  Pagination  ----------*/

.pagination-wrapper {
  margin: $section-padding 0;
  text-align: center;
}

.pagination {
  .icon {
    position: relative;
    top: rem-calc(2);
    width: rem-calc(12);
    height: rem-calc(10);
  }

  .pagination-page-link {
    line-height: rem-calc(17px);
  }
}


/*----------  Newsletter Signup  ----------*/

.newsletter-signup {
  background-color: $color-background-secondary;

  .container {
    max-width: 616px;
  }

  .subscription-form {
    text-align: center;

    @include media($min: $breakpoint-xs) {
      display: flex;
      align-items: flex-start;
      justify-content: center;
    }
  }

  .form-field {
    display: block;
    width: 100%;
    margin-bottom: 30px;

    @include media($min: $breakpoint-xs) {
      display: inline-block;
      flex: 2;
      width: auto;
      margin: 0 30px 0 0;
    }
  }

  .form-input {
    width: 100%;
  }

  .form-inline-message {
    text-align: left;
  }

  .newsletter-summary {
    margin-top: 30px;
    text-align: center;
  }
}


/*----------  Banners  ----------*/

.banners {
  @extend %clearfix;
  padding: 0 $gutter;
  text-align: center;
  //background: $color-background-secondary;
  background: $color-message-bar;
  color: $color-message-text;
}

.banners-bottom {
  background: $color-background;
  border-top: 1px solid $color-border;
  border-bottom: 1px solid $color-border;
}

.banner {
  max-width: $max-width;
  padding: $gutter 0;
  margin: 0 auto;
  text-align: center;
  border-bottom: 1px solid $color-border;
  color: $color-message-text;

  // override default rte colors
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 { color: $color-message-text; }

  a {
    text-decoration: underline;

    &:hover {
      color: $color-link;
    }
  }

  &:last-child { border-bottom: 0; }
}

/* scss-combine:general/images */
.replaced-image {
  display: block;
  min-width: 1rem;
  min-height: 1rem;
  overflow: hidden;
  background: {
    position: center center;
    repeat: no-repeat;
    size: contain;
  }

  .thumbnail-cover &,
  .post & {
    background-size: cover;
  }

  img,
  &.lazy-image img {
    vertical-align: middle;  // Avoid baseline / descender padding
    visibility: hidden;   // Image is replaced
  }
}

.lazy-image {
  position: relative;

  .spinner {
    position: absolute;
    top: 50%;
    left: 50%;
    margin-top: -0.5rem;
    margin-left: -0.5rem;
  }
}

[class*="ratio-"]:not(.ratio-any) {
  img {
    @extend .sr-only;
  }
}

.ratio-any {
  img {
    width: 100%;
  }
}

.ratio-16-9 {
  @include maintain-ratio(16 9);
}

.ratio-4-3 {
  @include maintain-ratio(4 3);
}

.ratio-1-1 {
  @include maintain-ratio(1 1);
}

.ratio-3-1 {
  @include maintain-ratio(3 1);
}

.ratio-3-4 {
  @include maintain-ratio(3 4);
}

/* scss-combine:general/amp-product-options */
.amp-product-options {
  .form-field-quantity-control {
    position: relative;
    display: block;

    .form-input {
      width: 100%;
      padding-right: 40px;
      padding-left: 40px;
      text-align: center;
    }

    .quantity-control-action {
      position: absolute;
      top: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      width: 40px;
      height: 40px;
      margin-top: -20px;
      cursor: pointer;

      &:hover {
        color: $color-accent;
      }
    }

    .quantity-decrement {
      left: 8px;
    }

    .quantity-increment {
      right: 8px;
    }
  }

  .button-progress .complete-text {
    top: calc(50% - 10px);
  }
}


// Components
/* scss-combine:components/mini-cart */
.mini-cart {
  position: fixed;
  top: 0;
  right: -400px;
  width: 400px;
  height: 100%;
  background-color: $color-mini-cart-background;
  transition: transform .3s ease;

  @if ($color-mini-cart-background == $color-background) {
    box-shadow: 1px 0 0 0 $color-border inset;
  }

  .no-js & { overflow: auto; }

  .button-checkout {
    @extend %button-inverse;
  }
}

.mini-cart-inner {
  position: relative;
  top: 0;
}

.mini-cart-top-bar {
  @include white-text($color-mini-cart-background);

  .button-cart-close {
    position: absolute;
    top: rem-calc(40);
    right: rem-calc(25);
    padding: 0;
    background: none;

    .icon-close {
      &:hover {
        color: $color-accent;
      }
    }
  }
}

.mini-cart-contents {
  > .icon-spinner {
    display: block;
    margin: rem-calc(20) auto;
  }
}

.mini-cart-title {
  @include white-text($color-mini-cart-background);
  font-size: 18px;
  text-align: center;
  font-family: $font-primary;
  font-weight: 300;
  text-transform: none;
  margin: 0;
  padding: rem-calc(40) 0;
}

.mini-cart-empty {
  @include white-text($color-mini-cart-background);
  text-align: center;
}

.mini-cart-item {
  @include white-text($color-mini-cart-background);
  position: relative;
  transition: background-color 0.3s ease;

  &:not(:last-of-type) {
    &:after {
      display: block;
      width: calc(100% - 50px);
      height: 1px;
      margin-left: 25px;
      background-color: rgba(contrast($color-mini-cart-background, 100%), 0.05);
      content: "";
    }
  }

  &:hover {
    background-color: darken($color-mini-cart-background, 5%);

    &:after {
      background-color: darken($color-mini-cart-background, 5%);
    }

    .mini-cart-item-actions {
      opacity: 1;
    }
  }

  &.removing {
    .mini-cart-item-wrap {
      pointer-events: none;
      opacity: 0.2;
    }
  }

  a {
    color: inherit;
  }

  .icon-spinner {
    position: absolute;
    top: 25px;
    right: 25px;
  }
}

.mini-cart-item-wrap {
  @include layout-group();
  padding: 25px;

  & > * {
    @include layout-group-item();
  }

  .giftcard-image {
    width: 75px;
  }
}

.mini-cart-item-thumb {
  width: 75px;
  padding-bottom: 75px;
  background-position: center center;
  background-size: contain;
  background-repeat: no-repeat;

  .thumbnail-cover & {
    background-size: cover;
  }

  &.no-image {
    background-color: $color-background;

    @if ($color-mini-cart-background == $color-background) {
      box-shadow: 1px 0 0 0 $color-border inset;
    }
  }
}

.mini-cart-item-title {
  font-family: $font-secondary, sans-serif;
  font-weight: bold;
  font-size: 17px;
  text-transform: uppercase;
}

.mini-cart-item-options {
  padding-top: 2px;
  padding-bottom: 2px;

  .option-value {
    margin-right: 4px;
    color: $color-body;

    &:not(:last-child):after {
      content: ",";
    }
  }
}

.mini-cart-item-description {
  vertical-align: middle;
  padding-left: 20px;
  width: 90%;
}

.mini-cart-item-actions {
  font-size: 12px;
  // opacity: 0;
  transition: opacity 0.3s ease;

  .link {
    margin-right: 14px;
  }
}

.mini-cart-item-price {
  text-align: right;
  vertical-align: bottom;
  opacity: 0.6;

  .price-discounted { text-decoration: line-through; }
}

.mini-cart-footer {
  padding: 25px;
  border-top: 1px solid rgba(contrast($color-mini-cart-background, 100%), 0.05);

  .mini-cart-subtotal {
    float: right;
    font-size: 111%;
    vertical-align: middle;
  }
}

.mini-cart-footer-title {
  color: contrast($color-mini-cart-background, 100%);
}

.mini-cart-actions {
  .button {
    width: calc(50% - 5px);

    & + .button { float: right; }
  }

  .button-secondary {
    @include white-text($color-mini-cart-background);

    @if lightness($color-mini-cart-background) < 33 {
      box-shadow: 0 0 0 2px contrast($color-mini-cart-background, 100%) inset;
    }

    &:hover {
      box-shadow: 0 0 0 2px $color-button-secondary inset;
    }
  }
}

/* scss-combine:components/search */
/*----------  Search Form  ----------*/

.search-form {
  position: relative;
  max-width: 250px;
  margin: rem-calc(22px) auto 0;

  .search-input {
    width: 100%;
  }

  .button-search-submit {
    position: absolute;
    top: 50%;
    right: $gutter;
    line-height: 0;
    color: $color-meta;
    background: none;
    transform: translateY(-50%);
  }

  .icon-search {
    width: 24px;
    height: 24px;
  }

  .form-inline-message {
    position: absolute;
    bottom: rem-calc(-50);
  }
}

.search-wrap {
  position: fixed;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 1000;
  color: #fff;
  background-color: rgba($color-modal-background, 0.98);
  transform: translateY(-100%);
  transition: all 0.2s ease-out;

  &.search-open {
    top: 0;
    height: 100vh;
    opacity: 1;
    transform: translateY(0);
  }

  .icon {
    fill: currentColor;
  }

  .button-search-close {
    @extend .button-modal-close;

    &:hover {
      color: $color-accent;
    }
  }

  .search-form {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 100%;
    max-width: 586px;
    padding-bottom: rem-calc(10);
    transform: translate(-50%, -50%);
    border-bottom: 1px solid rgba(contrast($color-modal-background, 100%), 0.2);

    .search-input.form-input {
      box-shadow: none;
    }
  }

  .search-input {
    @extend h4;
    padding-right: 0;
    padding-left: 0;
    background: none;
    color: contrast($color-modal-background, 100%);

    &::placeholder {
      color: contrast($color-modal-background, 100%);
      text-transform: none;
      font-size: rem-calc(20);
    }

    &:focus {
      outline: none;
    }
  }

  .button-search-submit {
    top: rem-calc(25);
    color: contrast($color-modal-background, 100%);
  }

  .form-field {
    margin: 0;
  }
}

.button-search-submit {
  float: right;
  right: 0;
  background: none;

  &:hover,
  &:focus {
    color: $color-accent;
    outline: 0;
  }

  .icon {
    width: 25px;
    height: 25px;
  }
}

/*----------  Search Page  ----------*/

.search {
  .product-listing {
    padding-top: 0;
  }
}

.tabs {
  margin-top: rem-calc(80);
}

.content-results {
  margin-bottom: rem-calc(80);
}

.content-result {
  margin-bottom: rem-calc(40);

  h1 {
    @extend h4;
  }
}

.content-results-pagination {
  text-align: center;
}

/* scss-combine:components/navigation-mobile */
.nav-mobile-open {
  .site-canvas {
    transform: none;
    padding-top: $topbar-height;
  }

  .top-bar {
    position: fixed;
    z-index: $nav-mobile-z;
    top: 0;
    left: 0;
    width: 100%;
  }

  .button-mobile-nav-toggle {
    .burger {
      transform: rotate(-45deg);
      &:before { transform: rotate(90deg); }
      &:after { display: none; }
    }
  }
}

.button-mobile-nav-toggle {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);

  &.has-promo {
    top: auto;
    bottom: 15px;
    transform: translateY(0);
  }
}

.button-mobile-nav-back {
  position: relative;
  bottom: 15px;
  left: -5px;
  display: none;
  color: contrast($color-topbar-background, 100%);
  background: transparent;

  .icon {
    width: 9px;
    height: 14px;
  }

  .mobile-nav-open & {
    display: block;
  }
}

.button-mobile-nav-toggle {
  left: 10px;
  height: 28px;

  @include media($min: $breakpoint-m) { display: none; }

  &:focus { outline: none; }

  .burger {
    display: block;
    width: 16px;
    height: 2px;
    background: contrast($color-topbar-background, 100%);
    border-radius: 1px;
    transition: transform 0.2s ease;

    &:before,
    &:after {
      display: block;
      width: 16px;
      height: 2px;
      background: contrast($color-topbar-background, 100%);
      border-radius: 1px;
      content: '';
      transition: transform 0.2s ease;
    }

    &:before {
      transform: rotate(0deg) translate3d(0, -5px, 0);
    }

    &:after {
      transform: translateY(3px);
    }
  }
}

.button-mobile-nav-cart {
  position: absolute;
  top: 50%;
  right: 15px;
  height: 28px;
  transform: translateY(-38%);

  &.has-promo {
    top: auto;
    bottom: 8%;
    transform: translateY(0);
  }

  @include media($min: $breakpoint-m) { display: none; }

  a {
    display: block;
    height: 100%;
    text-align: center;

    svg {
      fill: contrast($color-topbar-background, 100%);
    }
  }
}

.navigation-mobile {
  position: fixed;
  z-index: $nav-mobile-z;
  top: $topbar-height;
  width: 100%;
  height: calc(100vh - 56px);
  display: none;
  overflow-y: auto;
  background-color: rgba($color-topbar-background, 0.97);
  border-top: 1px solid rgba(#fff, 0.1);
  -webkit-overflow-scrolling: touch;

  @include media($min: $breakpoint-m) {
    display: none !important;
  }

  &.animating,
  &.visible {
    display: block;
  }

  &.animating-in,
  &.animating-out {
    transform: translateX(-100%);
    transition: transform 0.3s ease;
  }

  &.visible {
    transform: translateX(0);
    opacity: 1;
  }

  .search-form {
    position: relative;
    display: block;
    padding: 10px;
    max-width: none;
  }

  .search-input {
    @extend .form-input;
    width: 100%;
  }

  .button-search-submit {
    position: absolute;
    right: 27px;
    top: 38px;
    padding: 0;
    background: none;

    .icon-search {
      width: 16px;
      height: 16px;
    }
  }

  a { padding: 9px 0; }

  .navigation {
    padding: 20px;
    float: none;
    border-bottom: 1px solid rgba($color-topbar-text, 0.1);
    transition: transform 0.2s ease;

    li,
    a { display: block; }

    .parent > a { color: contrast($color-modal-background, 60%); }
  }

  .nav-mobile-item,
  .nav-mobile-item a,
  .button-util,
  .currency-selector .dropdown-toggle,
  .children a {
    font-family: $font-secondary;
    font-size: rem-calc(16);
    color: $color-topbar-text;
    text-transform: uppercase;
  }

  .nav-mobile-panel-child {
    .nav-mobile-item a {
      @extend %body-text-treatment;
      color: contrast($color-modal-background, 60%);
      text-transform: none;
    }
  }

  .utils {
    padding: 20px;

    a { display: block; }

    .mobile-account-utils {
      display: inline-block;
    }
  }

  .icon-account,
  .icon-wishlist,
  .icon-cart {
    width: 18px;
    margin-right: 11px;
  }

  .dropdown-panel {
    position: static;
    padding-top: 0;
  }

  .currency-selector {
    margin-left: 0 !important; // override all styles for mobile

    .dropdown-toggle.top-bar-button {
      height: auto;
      padding-left: 0;
    }

    .dropdown-panel {
      background-color: transparent;
      padding-top: 0;
    }
  }

  .icon-arrow-down {
    margin-top: -0.05rem;
    transform: rotate(270deg);
  }
}

// Mobile nav styles
.nav-mobile-container {
  position: relative;
  overflow: hidden;
}

.nav-mobile-panel {
  width: 100%;
  transition: transform 0.5s ease;

  &.is-active {
    position: relative;
  }

  &.is-right,
  &.is-left {
    position: absolute;
    top: 0;
  }

  &.is-right {
    transform: translateX(100%);
  }

  &.is-left {
    transform: translateX(-100%);
  }

  &.force-state {
    transition: none;
  }

  .nav-mobile-panel-title {
    margin-bottom: 0.5rem;
  }
}

/* scss-combine:components/products/product-listing */
.product-listing {
  &.section {
    @include media($max: $breakpoint-s) {
      padding-top: 0;
    }
  }
}

/*----------  Category Banner  ----------*/

.category-banner {
  .container {
    position: relative;

    @include media($max: $breakpoint-s) {
      background-color: $color-background-secondary;
    }
  }
}

.category-banner-image {
  @include maintain-ratio(2 1);
  background-repeat: no-repeat;
  background-size: cover;

  .banner-ratio-smallest & { @include maintain-ratio(8 1); }
  .banner-ratio-small & { @include maintain-ratio(6 1); }
  .banner-ratio-medium & { @include maintain-ratio(4 1); }
}

.category-banner-description {
  padding: rem-calc(37 0);
  text-align: center;

  @include media($min: $breakpoint-s) {
    position: absolute;
    left: $gutter;
    bottom: 0;
    width: rem-calc(380);
    padding: rem-calc(25 31 32);
    background-color: rgba($color-carousel-background, 0.8);
    color: contrast($color-carousel-background, 100%);
    text-align: left;
  }
}


/*----------  Listing Header  ----------*/

.listing-header {
  @extend %clearfix;
  margin-bottom: $double-gutter;

  @include media($max: $breakpoint-s) {
    margin-left: -$gutter;
    margin-right: -$gutter;
    text-align: center;
    background-color: $color-background-secondary;
  }

  .listing-utils {
    @include media($max: $breakpoint-s) {
      display: none;
    }
  }
}

.listing-title {
  @extend h3;

  @include media($min: $breakpoint-s) {
    float: left;
  }
}

.listing-description {
  clear: left;
}

.listing-utils {
  float: right;

  .sorting,
  .button-group,
  .form-label,
  .form-select-wrapper {
    display: inline-block;
    vertical-align: middle;
    margin-left: 16px
  }

  .form-field {
    margin-bottom: 0;
    margin-right: 10px;
  }

  .button-group {
    @include media($max: $breakpoint-s) {
      display: none;
    }
  }
}

/*----------  Listing Grid  ----------*/

.product-listing-grid {
  @include media($min: $breakpoint-s) {
    @include span(9);
    @include last;
  }

  .no-sidebar & {
    @include media($min: $breakpoint-s) {
      @include span(12);
      @include last;
    }
  }

  .listing-view {
    .js & {
      display: none;
    }

    &.active {
      display: block;
    }
  }

  .product-grid-item {
    margin-bottom: rem-calc(60);

    @include media($min: $breakpoint-xs) {
      @include gallery(6 of 12);
    }

    @include media($min: $breakpoint-m) {
      @include gallery(4 of 12);
    }

    .no-sidebar & {
      @include media($min: $breakpoint-xs) {
        @include gallery(6 of 12);
      }

      @include media($min: $breakpoint-s) {
        @include gallery(4 of 12);
      }

      @include media($min: $breakpoint-m) {
        @include gallery(3 of 12);
      }
    }
  }

  .listing-wrapper {
    @extend %clearfix;
  }

  .pagination {
    @extend %center-x;
    margin: rem-calc(50px) 0 rem-calc(80px);
  }
}


/*----------  Sidebar  ----------*/

.listing-sidebar {
  @include media($min: $breakpoint-s) {
    //@include span(3);
    padding-right: $double-gutter;
  }

  .listing-utils {
    float: none;
    padding: $double-gutter $gutter;
    margin: rem-calc(0 -15);
    border-top: 1px solid $color-border;

    @include media($min: $breakpoint-s) {
      display: none;
    }

    .sorting,
    .form-select-wrapper,
    .form-field {
      display: block;
      margin: 0;
    }

    .form-label {
      margin: 0 0 rem-calc(10);
    }

    .form-input {
      width: 100%;
    }
  }
}

.faceted-search-toggle {
  position: relative;
  display: block;
  margin: 1.5em 0;
  text-decoration: none;
  cursor: pointer;

  &::before {
    position: absolute;
    top: rem-calc(-15);
    right: rem-calc(-10);
    bottom: rem-calc(-15);
    left: rem-calc(-10);
    content: "";
  }

  @include media($min: $breakpoint-s) {
    display: none;

    &::before {
      display: none;
    }
  }

  &.is-open {
    .icon-plus {
      display: none;
    }
  }
}

.faceted-search {
  @include media($max: $breakpoint-s) {
    display: none;
  }

  &.visible {
    display: block;
  }
}

.facet-list {
  margin-bottom: 3em;
}

.facet-list-items {
  display: none;

  &.is-open,
  .is-open & {
    display: block;
  }

  .product-item-rating {
    > .icon-star {
      cursor: not-allowed;
    }

    .selected-rating {
      font-family: $font-secondary;
      font-size: rem-calc(15);
      letter-spacing: 0.09375em;
      text-transform: uppercase;
    }

    .icon-star {
      width: rem-calc(18);
      height: rem-calc(18);
    }
  }

  .product-item-rating-facet {
    &:hover {
      .icon-star {
        fill: $color-nav-active;
      }
    }

    &.full {
      .icon-star {
        fill: $color-nav-active;
      }
    }
  }
}

.facet-price {
  display: none;

  &.is-open {
    display: block;
  }
}

.faceted-search-option-columns {
  display: none;

  .is-open & {
    &.visible { display: block; }
  }
}

.facet-list-title {
  position: relative;
  font-size: rem-calc(16px);
  font-weight: normal;
  text-transform: none;
  cursor: pointer;

  &::before {
    position: absolute;
    top: rem-calc(-15);
    right: rem-calc(-10);
    bottom: rem-calc(-15);
    left: rem-calc(-10);
    content: "";
  }

  @include media($min: $breakpoint-s) {
    font-size: rem-calc(14px);

    &::before {
      display: none;
    }
  }
}

.facet-list-toggle {
  @include icon-circle($size: 20px);
  position: relative;
  float: right;
  color: $color-meta;
  cursor: pointer;

  &::before,
  &::after {
    position: absolute;
    display: block;
    background: $color-meta;
    content: "";
  }

  &::before {
    top: rem-calc(3);
    left: rem-calc(7);
    width: rem-calc(2);
    height: rem-calc(10);
    transition: all 0.1s ease;

    .is-open & { display: none; }
  }

  &::after {
    top: rem-calc(7);
    left: rem-calc(3);
    width: rem-calc(10);
    height: rem-calc(2);
  }
}

.facet-item,
.facet-toggle-more {
  margin-bottom: rem-calc(10);
  font-family: $font-secondary;
  font-size: rem-calc(13px);
  letter-spacing: 0.0625em;
  color: $color-meta;
  text-transform: uppercase;

  a {
    color: inherit;
  }

  .icon {
    width: 9px;
    height: 6px;
  }

  &.toggle-link-text-on {
    display: none;
  }
}

.facet-toggle-more {
  display: none;

  .is-open & {
    display: block;
  }
}

// Facet option list expand
.facet-default.is-open {
  display: block;
}

.selected-facet {
  color: $color-accent;
  font-weight: bold;

  a {
    &:after {
      @include icon-close($color-accent);
      display: inline-block;
      width: rem-calc(10);
      height: rem-calc(10);
      margin-left: rem-calc(5);
      content: "";
    }
  }
}

.facet-remove {
  font-size: rem-calc(13px);
}

.facet-price {

  @include media($min: $breakpoint-m) {
    @include layout-group;
    display: none;

    &.is-open {
      display: block;
    }
  }

  .form-actions {
    @include media($min: $breakpoint-xs) {
      @include layout-group-item;
    }

    @include media($min: $breakpoint-s) {
      display: block;
      margin-top: 6%;
    }

    @include media($min: $breakpoint-m) {
      @include layout-group-item;
      margin-top: 0;
      vertical-align: top;
    }
  }

  .button {
    padding-right: 1em;
    padding-left: 1em;

    @include media($min: $breakpoint-xs, $max: $breakpoint-m) {
      width: 94%;
    }
  }

  .form-field {
    @include layout-group-item;
    padding-right: 6%;

    .form-input {
      padding-left: 8%;
      padding-right: 8%;
      text-align: center;
      -moz-appearance: textfield;

      &::-webkit-inner-spin-button,
      &::-webkit-outer-spin-button {
        -webkit-appearance: none;
        margin: 0;
      }
    }
  }

  .form-input {
    width: 100%;
  }

  .icon-loop {
    position: relative;
    top: 1px;
    left: 1px;
    width: rem-calc(16);
    height: rem-calc(16);
  }
}

/* scss-combine:components/products/product-listing-item */
.products-featured,
.products-related {
  .container {
    @include media($min: $breakpoint-s) {
      padding-left: 50px;
      padding-right: 50px;
      max-width: $max-width + 100;
    }
  }

  .product-grid-item {
    margin-bottom: 3em;

    @include media($min: $breakpoint-xs) {
      margin-bottom: 0;
    }
  }

  .product-item-thumbnail {
    margin-right: 10px;
  }

  .carousel-navigation-item {
    color: $color-meta;

    &.previous { left: -50px; }
    &.next { right: -50px; }
  }

  .tabs {
    @include media($max: $breakpoint-s) {
      display: flex;
    }
  }

  .tab-title {
    flex-basis: 50%;

    a {
      @include media($max: $breakpoint-s) {
        min-width: 0;
        padding-left: 5px;
        padding-right: 5px;
      }
    }
  }
}

.product-carousel {
  margin-bottom: 88px;
}

.product-grid-item {
  text-align: center;

  .product-item-actions {
    position: absolute;
    top: -100%;
    left: 50%;
    transform: translate(-50%, -50%);
    transition: all 0.3s ease-out;

    .button {
      display: block;
      width: 135px;
      margin: 0 auto 0.9375em;
      padding-left: 0.25em;
      padding-right: 0.25em;

      & ~ .button {
        margin-bottom: 0;
      }
    }
  }
}

.product-list-item {
  @include layout-group($gutter: 0px, $gutter_vertical: $double-gutter);

  &:not(:last-child) {
    border-bottom: 1px solid $color-border;
  }

  .product-thumb-wrapper,
  .product-item-details,
  .product-item-actions {
    @include media($min: $breakpoint-s) {
      @include layout-group-item;
      vertical-align: middle;
    }
  }

  .product-item-thumbnail {
    @include media($min: $breakpoint-s) {
      width: 176px;
      margin: 0;

      img {
        max-height: 176px;
      }
    }
  }

  .product-item-details {
    padding: 0 $double-gutter;
    width: 100%;
  }

  .product-item-actions {
    text-align: center;
  }

  .product-item-price {
    font-size: rem-calc(20);
  }

  .product-price-line {
    margin-bottom: rem-calc(10);
  }

  .tax-label {
    display: block;
  }

  .button {
    width: 100%;
    margin: $gutter 0;
    white-space: nowrap;

    & + .button {
      margin: 0;
    }
  }
}

.product-item-brand {
  @extend h6;
  color: $color-body;
}

.product-badge {
  position: absolute;
  top: rem-calc(25px);
  right: 0;
  z-index: 1;
  padding: rem-calc(14) rem-calc(16);
  font-weight: 700;
  letter-spacing: 0.066em;
  color: contrast($color-nav-active, 100%, 60);
  text-transform: uppercase;
  background-color: $color-nav-active;
  transition: transform 0.15s ease-in-out;

  @if $font-secondary == "Roboto Condensed" {
    font-family: $font-secondary, sans-serif;
  }
}

.product-item-title {
  margin: rem-calc(10) 0;
  font-family: $font-secondary, sans-serif;
  font-size: 17px;
  font-weight: bold;
  color: $color-bold;
  text-transform: none;

  @if ($font-secondary == "Roboto Condensed") {
    text-transform: uppercase;
  }

  a {
    color: inherit;
  }
}

.product-item-thumbnail {
  position: relative;
  padding: 4%;
  margin-bottom: rem-calc(29);
  overflow: hidden;
  background-color: $color-background;
  border: 1px solid $color-border;

  a {
    display: block;
  }

  .item-link {
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
  }

  &:hover {
    .product-item-thumbnail-image {
      transform: scale(1.1);
    }
  }
}

.product-item-mask {
  position: absolute;
  top: 8%;
  right: 8%;
  bottom: 8%;
  left: 8%;
  z-index: 1;
  background-color: rgba($color-collection-item-overlay, 0.9);
  opacity: 0;
  transition: opacity 0.3s ease-in-out;

  @include media($max: $breakpoint-s) {
    display: none;
  }

  .button {
    @if (is-dark($color-collection-item-overlay)) {
      @extend %button-inverse;
    }

    &.button-secondary {
      @if (is-dark($color-collection-item-overlay)) {
        @extend %button-secondary-inverse;
      }
    }
  }
}

.product-item-rating {
  margin-top: 0;
  margin-bottom: 20px;
  color: $color-meta;

  .rating-title {
    margin-right: 9px;
    vertical-align: middle;
    text-transform: uppercase;
    font-family: $font-secondary;
    font-size: 13px;
  }

  .icon-star {
    width: 11px;
    height: 11px;
    opacity: 0.5;
    vertical-align: middle;

    &.full {
      fill: $color-accent;
    }
  }

  .full {
    color: $color-accent;

    .icon-star {
      opacity: 1;
    }
  }
}

.product-item-price {
  @extend h4;
  text-transform: lowercase;
}

.as-low-as-pricing {
  padding-right: 4px;
  font-size: rem-calc(14);
}

.price-tax-label { display: none; }

.price-rrp { text-decoration: line-through; }

.show-both-prices {
  .price-tax-label { display: inline-block; }

  .price-without-tax { color: $color-meta; }
}

/* scss-combine:components/promo-grid */
// .promo-grid {}

.promo-grid-item {
  @include span(3);
  padding-top: 15%;
  background-color: #ddd;
}

/* scss-combine:components/products/product-single-details */
.product-details {
  background-color: $color-background-secondary;

  .add-to-cart {
    @include media($max: $breakpoint-m) {
      padding-right: 5px;
      padding-left: 5px;
      width: 48%;
    }
  }

  .modal & {
    padding: $gutter 0;
    background-color: transparent;
  }

  .breadcrumbs {
    margin-top: rem-calc(-40);
    margin-bottom: rem-calc(40);
  }

  .product-title {
    margin-bottom: 0;

    @include media($min: $breakpoint-m) {
      margin: 0;
    }
  }

  .product-brand {
    @extend h6;
    display: block;
    margin-bottom: 1em;
    color: $color-body;

    &:hover {
      text-decoration: underline;
    }
  }

  .product-price {
    font-size: rem-calc(22);

    @include media($min: $breakpoint-m) {
      font-size: rem-calc(28);
    }
  }

  .price-rrp {
    opacity: 0.5;

    & + .price {
      float: left;
      margin-right: 0.25em;
    }
  }

  .price-you-save {
    font-size: $font-size;
  }

  .product-rating-block {
    margin-top: rem-calc(10);
  }
}

.tax-label {
  font-size: rem-calc(14);
}

.product-details-column {
  @include media($min: $breakpoint-m) {
    @include span(5.95);

    &:last-child { @include last; }
  }
}

.product-images-loader {
  padding: rem-calc(50px) 0;
  text-align: center;

  &.initialized {
    display: none;
  }
}

.product-slides-wrap {
  background-color: transparent;

  .js & { visibility: hidden; }

  &.slick-initialized { visibility: visible; }
}

.product-image {
  background-repeat: no-repeat;

  .no-touchevents & {
    &:hover img {
      opacity: 0 !important;
    }
  }

  &.no-zoom {
    background-position: 50% 50%;
    background-size: 100% auto;

    img {
      opacity: 0;
    }
  }

  img {
    display: block;
    width: 100%;
    transition: opacity 0.2s $ease-out-quad;
    background-color: #fff; //fallback for images with alpha channel
  }
}

.product-images-pagination {
  overflow: hidden;
  margin: rem-calc(16) rem-calc(-6);

  @include media($max: $breakpoint-m - 1) {
    padding: 0 rem-calc(24);
  }

  &.pagination-has-arrows {
    padding: 0 rem-calc(24);
  }

  .pagination-item {
    margin: 0 rem-calc(6);
    cursor: pointer;
    opacity: 0.75;
    transition: opacity 0.2s ease;

    &:only-child {
      display: none;
    }

    &:hover,
    &:focus,
    &.slick-current {
      outline: none;
      opacity: 1;
    }
  }

  a {
    transition: opacity 0.2s ease;

    &:hover {
      opacity: 0.8;
    }
  }
}

.product-images-pagination-icon {
  position: absolute;
  top: calc(50% - #{rem-calc(16)});
  padding: rem-calc(8);
  cursor: pointer;
  transition: 0.3s ease;

  svg {
    width: rem-calc(18);
    height: rem-calc(18);
  }

  &.slick-disabled {
    opacity: 0;
    cursor: default;
  }

  &.pagination-prev {
    left: rem-calc(-6);
  }

  &.pagination-next {
    right: rem-calc(-6);
  }
}

.total-reviews {
  color: $color-link;
  font-family: $font-secondary;
  font-weight: 700;
  font-size: rem-calc(13);
  margin-left: 0.35em;

  @if ($font-secondary == "Oswald") {
    font-family: $font-primary;
  }
}

.product-description,
.product-stock {
  padding-bottom: 1em;
}

.product-description {
  .product-description-last & {
    padding-top: 0;
  }
}

.product-stock {
  @extend h6;

  .product-description-last & {
    padding-top: 1em;
  }
}

.product-details-hidden {
  display: none;
}

.product-quantity-toggle-wrapper {
  display: inline-block;
  margin-top: rem-calc(-5);
  vertical-align: middle;

  .product-quantity-toggle {
    @include icon-circle($size: 20px);
    float: left;
    clear: left;
    line-height: 1;
    background-color: $color-background;
    transition: color 0.3s ease, border-color 0.3s ease;

    &:first-of-type {
      margin-bottom: rem-calc(4);
    }

    &:hover {
      color: $color-accent;
      border-color: $color-accent;
    }

    &:focus {
      outline: none;
    }
  }

  .form-input[type="number"] {
    display: inline-block;
    width: rem-calc(35px);
    padding: 0;
    font-family: $font-primary;
    color: $color-body;
    text-align: center;
    cursor: pointer;
    box-shadow: none;
    -moz-appearance:textfield;

    &::-webkit-inner-spin-button,
    &::-webkit-outer-spin-button {
      appearance: none;
    }

    &:focus {
      border-bottom: 1px solid $color-meta;
    }
  }

  .icon {
    width: 10px;
    height: 10px;
    line-height: 0;
    pointer-events: none;
  }
}

.product-quantity-submit {
  .product-quantity-container {
    @extend %clearfix;
    padding: $double-gutter 0;
    border-bottom: 1px solid $color-border;

    .form-field {
      display: inline-block;
      margin-right: rem-calc(40);
      margin-bottom: 0;
      user-select: none;
    }
  }

  .share-title,
  .share-buttons-nav {
    display: inline-block;
    vertical-align: middle;
  }

  .share-block {
    display: inline-block;
    margin-top: 13px;
    vertical-align: top;
  }

  .share-title {
    margin-right: rem-calc(10);
    margin-bottom: 0;
  }

  .share-buttons { line-height: 0; }

  .product-quantity {
    width: 82px;
    text-align: center;
    -webkit-appearance: none;
    -moz-appearance: textfield;
    appearance: none;

    &::-webkit-inner-spin-button,
    &::-webkit-outer-spin-button {
      -webkit-appearance: none;
      -moz-appearance: none;
      appearance: none;
    }
  }

  .add-to-cart {
    float: left;
    margin: $double-gutter 0;

    @include media($min: $breakpoint-m) {
      margin: $double-gutter $double-gutter $double-gutter 0;
    }
  }
}

// Wishlists
.wishlist-form {
  position: relative;
  display: inline-block;
  padding: $double-gutter 0;

  @include media($max: $breakpoint-m) {
    width: 48%;
    text-align: right;
  }
}

.button-wide.add-to-wishlist {
  @include media($max: $breakpoint-m) {
    width: calc(100% - 5px);
    padding-right: 5px;
    padding-left: 5px;
  }
}

.add-to-wishlists {
  position: absolute;
  top: 85%;
  display: none;
  padding: 1.0625em 2.7em;
  text-align: left;
  background-color: $color-topbar-background;

  @include media($max: $breakpoint-m) {
    padding-right: 1.5em;
    padding-left: 1.5em;
  }

  a {
    color: $color-topbar-text;

    &:hover {
      color: $color-accent;
    }
  }

  &.animating,
  &.visible {
    display: block;
  }

  // initial state for enter transition
  &.animating-in {
    opacity: 0;
    transform: translateY(-15px);
    transition: transform 0.3s ease, opacity 0.3s ease;
  }

  // initial state for leave transition
  &.animating-out {
    opacity: 0;
    transition: opacity 0.2s ease;
  }

  // final states for both in and out
  &.visible {
    opacity: 1;
    transform: translateY(0);
  }

  &::before {
    position: absolute;
    top: -10px;
    left: 50%;
    width: 0;
    height: 0;
    border-top: 0;
    border-right: 10px solid transparent;
    border-bottom: 10px solid $color-topbar-background;
    border-left: 10px solid transparent;
    content: "";
    transform: translateX(-50%);
  }
}

.product-message-area {
  margin-bottom: 1em;
  clear: both;
}

.variation-preview {
  display: block;
}

.variation-preview-thumb {
  width: rem-calc(45);
  height: rem-calc(45);
  background-size: cover;
}

.variation-preview-thumb-wrap {
  display: inline-block;
  vertical-align: middle;
}

.variation-preview-label {
  vertical-align: middle;
  @extend %link-text-treatment;
}

.bulk-pricing-block {
  margin-bottom: 2em;

  .product-details-heading {
    @extend h5;
    margin-bottom: 0;
  }
}

/* scss-combine:components/products/product-options */

.product-options-container {
  margin: $double-gutter 0 0;

  .form-field {
    margin-bottom: 22px;

    &.#{$all-text-inputs} {
      width: 100%;
    }

    input[type="number"] { max-width: 25%; }

    .input-select { width: 100%; }

    textarea {
      height: auto;
      resize: vertical;
    }
  }

  .form-select-wrapper {
    display: inline-block;
  }

  .form-field-title {
    display: block;
    margin-bottom: rem-calc(10);
    margin-left: 0;
  }

  .required {
    .form-label-text:after {
      content: "*";
    }
  }
}

.option-unavailable {
  opacity: 0.5;
}

.form-field-title {
  display: block;
  margin-bottom: 10px;
  margin-left: 0;

  .form-field-swatch & {
    float: left;
  }
}

/* file */
.form-file-size,
.form-file-types {
  display: block;
  margin: rem-calc(5) 0;
  font-size: rem-calc(12);
}


/* form feild rectangle */

.form-field-rectangle {
  @extend %clearfix;

  .rectangle {
    position: relative;
    display: inline-block;
    margin: 0 10px 10px 0;
  }

  .rectangle-text {
    display: block;
    min-width: 45px;
    padding: 14px;
    font-size: 13px;
    font-family: $font-secondary;
    line-height: 1;
    text-align: center;
    background-color: $color-background;
    border: 2px solid $color-border;
    border-radius: 23px;
    transition: all 0.3s ease;
  }

  input[type="radio"] {
    position: absolute;
    z-index: 1;
    width: 100%;
    height: 100%;
    cursor: pointer;
    opacity: 0;

    &:checked + .rectangle-text {
      color: #fff;
      background-color: $color-body;
      border-color: $color-body;
    }
  }
}

/* colour swatch */

.swatch-value {
  font-style: normal;
  font-weight: normal;
  color: lighten($color-body, 20%);
}

.form-field-swatch {
  .form-field-control {
    @extend %clearfix;
    clear: left;
  }

  .form-label-text {
    @extend .show-for-sr;
  }

  .swatch-wrap {
    position: relative;
    display: block;
    float: left;
    margin: 0 10px 10px 0;

    //ensure hovered swatches don't extend offscreen on smaller devices
    @include media($max: $breakpoint-m - 1) {
      &:first-child .swatch-pattern-expanded {
        left: -10px;
        transform: translateX(0);
      }

      &:last-child .swatch-pattern-expanded {
        left: auto;
        transform: translateX(0);
      }
    }
  }

  // The block the swatch sits within
  .swatch {
    position: relative;
    display: block;
    width: 45px;
    height: 45px;
    overflow: hidden;
    border: 1px solid transparent;
    border-radius: 50%;
  }

  .swatch-color {
    @extend %fill-parent;
    background-color: #eee;
    background-size: cover;

    &.secondary {
      left: 50%;
    }

    &.tertiary {
      top: 50%;
      left: 50%;
    }
  }

  .swatch-radio {
    position: absolute;
    z-index: 1;
    width: 100%;
    height: 100%;
    cursor: pointer;
    opacity: 0;

    // Selected Swatch Items
    &:checked + .swatch {
      &::after {
        position: absolute;
        top: 50%;
        left: 50%;
        z-index: 1;
        width: 13px;
        height: 10px;
        background-image: url("data:image/svg+xml,%3Csvg width='14' height='10' viewBox='0 0 14 10' xmlns='http://www.w3.org/2000/svg'%3E%3Ctitle%3E6269C699-FBB7-4109-B1F3-15F8609CEA35%3C/title%3E%3Cpath d='M5.72 9.6325l-.3995.3995L.082 4.7936l2.1064-2.1063L5.62 6.1187 11.7704-.032l2.1064 2.1064L6.0192 9.932 5.72 9.6324z' fill='%23fff' fill-rule='evenodd'/%3E%3C/svg%3E");
        content: "";
        transform: translate(-50%, -50%) scale(1);
      }
    }
  }
}

.swatch-pattern-expanded {
  display: none;
  position: absolute;
  bottom: calc(100% + 10px);
  left: 50%;
  z-index: 2;
  padding: 3px;
  border: 1px solid $color-border;
  background: $color-background;
  transform: translateX(-50%);

  .swatch-pattern-image {
    display: block;
    width: 100px;
    height: 100px;
    max-width: none;
    background-size: cover;
  }
}

.swatch-wrap:hover .swatch-pattern-expanded {
  display: block;
}

/* date input */

.date-select-group {
  @extend %clearfix;

  .form-select-wrapper { float: left; }

  .month { width: 31%; }

  .year { width: 31%; }

  .day {
    width: 31%;
    margin-right: 3%;
    margin-left: 3%;
  }
}

/* product-picker input type  */

.product-picklist-item {
  position: relative;
  display: block;
  margin-bottom: -1px;
}

.product-picklist-radio {
  position: absolute;
  top: 50%;
  left: 14px;
  margin-top: -7px;
  line-height: 14px;
}

.product-picklist-item-body {
  position: relative;
  display: table;
  width: 100%;
  min-height: 60px;
  padding: 6px 8px 6px 84px;
  font-size: 13px;
  cursor: pointer;
  border: 1px solid transparent;
  border-radius: 3px;

  &.picklist-none { padding-left: 36px; }

  // TODO - set up hover / active styles
  &:hover {
    z-index: 1;
    //border-color: contrast($container-background-color, 6%);
  }

  [type="radio"]:checked ~ & {
    z-index: 2;
    //color: $secondary-color;
    //border-color: $secondary-color;
  }
}

.product-picklist-image-wrap {
  position: absolute;
  top: 8px;
  bottom: 8px;
  left: 34px;
  width: 40px;
  overflow: hidden;
}

.product-picklist-image {
  @include centerer;
}

.product-picklist-label-text {
  display: table-cell;
  padding: 15px 0;
  line-height: 1.4;
  vertical-align: middle;
}

/* scss-combine:components/products/product-single-tabs */
.product-tabs {
  @extend .container;
  border-bottom: 1px solid $color-border;

  .tabs {
    @include media($max: $breakpoint-m - 1) {
      display: none;
    }
  }

  .accordion-title {
    position: relative;
    margin-right: -$gutter;
    margin-left: -$gutter;
    font-weight: bold;
    border-bottom: 2px solid $color-border;

    @include media($min: $breakpoint-m) {
      display: none;
    }

    &:first-of-type {
      border-top: 2px solid $color-border;
    }

    &.is-open {
      @extend .tab-title.active;

      .icon-minus {
        display: inline-block;
      }

      .icon-plus {
        display: none;
      }
    }

    a {
      display: block;
      padding: $gutter;
      color: inherit;
    }

    .icon {
      position: absolute;
      top: rem-calc(20);
      right: $gutter;
      width: rem-calc(16);
      height: rem-calc(16);
    }

    .icon-plus {
      display: inline-block;
    }

    .icon-minus {
      display: none;
    }
  }

  .tab-content-panel {
    @extend %clearfix;

    @include media($max: $breakpoint-m - 1) {
      padding: $double-gutter $gutter;
      margin-right: -$gutter;
      margin-left: -$gutter;
      border-bottom: 2px solid $color-border;
    }
  }
}

//*----------  Reviews  ----------*/

.product-reviews-title {
  text-align: center;
}

.review-item {
  padding-top: $double-gutter;
  margin-bottom: $double-gutter;
  border-top: 1px solid $color-border;

  &:first-child {
    border-top: 0;
  }

  &.hidden { display: none; }

  &.animating,
  &.visible {
    display: block;
  }

  // initial state for enter transition
  &.animating-in {
    opacity: 0;
    transform: translateX(-100px);
    transition: transform 0.3s ease, opacity 0.3s ease;
  }

  // initial state for leave transition
  &.animating-out {
    opacity: 0;
    transition: opacity 0.2s ease;
  }

  // final states for both in and out
  &.visible {
    opacity: 1;
    transform: translateX(0);
  }

  .product-item-rating {
    float: right;
  }
}

.review-author {
  margin-right: rem-calc(14px);
  font-size: rem-calc(15px);
  font-weight: 700;
  color: $color-bold;
}

.review-date {
  font-family: $font-secondary;
  font-size: rem-calc(13px);
  letter-spacing: 0.077em;
  color: $color-meta;
  text-transform: uppercase;
}

.review-item-title {
  @extend h5;
  margin-bottom: 0;
}

.review-item-body {
  margin: 0;
  font-weight: 300;
}

.reviews-more-wrap { text-align: center; }

.reviews-show-more-link {
  display: inline-block;
  font-size: rem-calc(16px);
  font-weight: bold;
  color: $color-accent;

  &:hover {
    .icon-arrow-down {
      transform: scale(2);
    }
  }

  .icon-arrow-down {
    display: block;
    width: 9px;
    height: 9px;
    margin: 11px auto 0;
    transition: transform 0.3s $ease-out-back;
  }
}

.num-reviews {
  &::before {
    content: attr(data-num-reviews);
  }

  &[data-num-reviews="()"] {
    display: none;
  }
}

//*----------  Product Details Block  ----------*/

.product-warranty {
  @include media($min: $breakpoint-m) {
    @include span(5.5);
  }

  & + .product-details-blocks {
    @include media($min: $breakpoint-m) {
      @include span(5.5);
      @include last;
    }
  }

  .product-details-block {
    width: 100%;
  }
}

.product-details-block {
  margin-bottom: 2em;
  font-family: $font-secondary;

  @include media($min: $breakpoint-xs) {
    @include gallery(4);
  }
}

.product-details-name {
  font-weight: bold;
  text-transform: uppercase;
}

.product-details-value {
  margin: 0.5em 0 0;
}


//*----------  Review Form  ----------*/

.review-form {
  @extend %form-base-style;
  border-radius: $border-radius;

  .form-input {
    width: 100%;
  }

  .rating-name,
  .rating-email,
  .rating-number {
    @include media($min: $breakpoint-m) {
      @include span(5.75);
    }
  }

  .rating-email {
    @include media($min: $breakpoint-m) {
      @include last;
    }
  }

  .rating-subject {
    @include break;
  }

  .rating-stars-label {
    @extend %placeholder;
    margin-right: 10px;
  }

  .icon-star-wrap {
    display: inline-block;
    transform: translateY(-1px);
  }

  .rating-stars-wrap {
    position: relative;
  }

  .product-item-rating {
    @extend .form-input;
    margin-bottom: 0;
    pointer-events: none;
    background-color: #fff;
  }

  .rating-stars {
    position: absolute;
    top: 0;
    width: 100%;
    height: 100%;
    cursor: pointer;
    opacity: 0;
  }

  .icon-arrow-down {
    position: absolute;
    top: 50%;
    right: 17px;
    width: 10px;
    height: 6px;
    transform: translateY(-50%);
  }

  #recaptcha_area {
    margin: 0 auto;
  }
}

.review-form-heading {
  margin-top: 0;
  text-align: center;
  text-transform: uppercase;
}

.form-submit-wrap {
  text-align: center;
}


// Layout
/* scss-combine:layout/layout */
.site-wrapper {
  width: 100%;
  overflow: hidden;
}

.mini-cart-open {
  .site-header,
  .site-canvas,
  .mini-cart {
    transform: translateX(-$mini-cart-width);
  }
}

.site-canvas {
  position: relative;
  padding-top: $topbar-height;
  transition: transform .3s ease, padding 0.2s linear;

  @include media($min: $breakpoint-s) {
    padding-top: $expanded-nav-height;
  }
}

.container {
  @include container($max-width);
  @extend %wrapper-padding;

  &.container-small {
    max-width: 820px;
  }
}

.section {
  padding: $section-padding 0;
  @extend %clearfix;

  &.error {
    text-align: center;
  }
}

/* scss-combine:layout/header */
.site-header {
  @include font-switcher($header-use-primary-font);
  position: fixed;
  top: 0;
  z-index: 900;
  width: 100%;
  background-color: $color-background;
  border-bottom: 1px solid $color-border;
  transition: transform 0.3s ease;

  @if (lightness($color-nav-background) < 30) {
    border-bottom-color: transparent;
  }

  button {
    background: none;
  }
}

// Top-bar
.top-bar {
  position: relative;
  z-index: 10;
  background-color: $color-topbar-background;
  color: $color-topbar-text;

  .icon {
    @extend %inline-middle;
    fill: currentColor;
  }

  .container {
    display: table;
    width: 100%;
    max-width: 1230px;
    min-height: $topbar-height;
    vertical-align: middle;

    @include media($max: $breakpoint-m) {
      max-height: $topbar-height;
      padding-left: 0;
      padding-right: 0;
    }

    // Add divider if colours are the same
    @if ($color-topbar-background == $color-nav-background) {
      &:after {
        @include media($min: $breakpoint-m) {
          display: block;
          border-bottom: 1px solid $color-border;
          content: "";
        }
      }
    }
  }
}

.top-bar-button {
  display: inline-block;
  vertical-align: top;
  height: $topbar-height;
  padding-top: rem-calc(20px);
  color: inherit;

  &:focus {
    outline: none;
    color: $color-accent;
  }

  &:hover {
    color: $color-accent;
  }
}

.top-bar-left,
.top-bar-center,
.top-bar-right {
  display: table-cell;
  vertical-align: middle;
}

.top-bar-left {
  white-space: nowrap;

  @include media($max: $breakpoint-m) {
    padding-left: 30px - $gutter;
  }

  @include media($max: $breakpoint-m) {
    display: none;
  }
}

.top-bar-center {
  width: 100%;

  .site-branding {
    max-height: $navbar-height;
    margin: 0;
    font-size: 24px;
    line-height: 1;
    color: $color-topbar-text;
    text-align: center;
    vertical-align: bottom;

    .site-branding-logo {
      max-height: calc(#{$navbar-height} - 1rem);
      padding: 20px 0;
      vertical-align: middle;
    }

    @include media($min: $breakpoint-m) {
      position: absolute;
      left: 50%;
      display: inline-block;
      margin-top: 0;
      text-align: left;
      transform: translate(-50%, -50%);
    }

    .logo-align-left &,
    .logo-align-right &,
    /*added to remove logo on center nav global setting - JG!*/
    .logo-align-center &  {
      @include media($min: $breakpoint-m) {
        display: none;
      }
    }

    .text-logo & {
      margin-top: 0;
    }

    .long-logo-text & {
      font-size: 16px;
    }
  }
}

.top-bar-right {
  white-space: nowrap;

  .logo-align-center & { width: span(4); }

  > * {
    white-space: normal;
  }

  @include media($max: $breakpoint-m) {
    padding-right: 30px - $gutter;
  }
}

.customer-links,
.currency-selector {
  @extend %top-bar-font;
  display: inline-block;
  vertical-align: top;
}

.customer-links {
  position: relative;
  margin-right: rem-calc(20px);

  &:after {
    @extend %top-bar-sep;

    .no-currency-selector & {
      display: none;
    }
  }

  .icon-account {
    margin-right: 11px;
    width: rem-calc(15);
    height: rem-calc(15);
  }

  .button-text {
    vertical-align: top;
  }
}

.currency-selector {
  margin-left: 0;

  &.accounts-enabled {
    margin-left: rem-calc(6);

    .top-bar-button {
      padding-left: rem-calc(10px);
    }
  }

  .currency-selector-active {
    margin-right: 5px;
  }

  .top-bar-button {
    padding-right: rem-calc(10px);
  }

  .icon-arrow-down {
    margin: -0.3em 0 0 0.5em;
  }

  .dropdown-panel {
    background-color: $color-topbar-background;
    padding: 10px;
  }

  .dropdown-menu-item {
    white-space: nowrap;

    a {
      display: block;
      color: inherit;

      &:hover {
        color: $color-accent;
      }
    }
  }
}

.currencies {
  width: 10px;
  padding-left: 10px;
  overflow: hidden;
  background: transparent;
  border: 0;
  appearance: none;
}

.promo-message {
  @include font-switcher(#{inverse-bool($header-use-primary-font)});
  padding: rem-calc(16) rem-calc(32) rem-calc(16) rem-calc(16);
  overflow: hidden;
  font-size: rem-calc(13);
  color: $color-topbar-text;
  text-align: center;
  text-overflow: ellipsis;
  white-space: nowrap;
  vertical-align: middle;
  background-color: $color-topbar-background;

  @include media($max: $breakpoint-s) {
    white-space: normal;
  }

  a {
    color: $color-topbar-text;
    text-decoration: underline;

    &:hover {
      color: $color-accent;
      text-decoration: none;
    }
  }

  .top-bar-center & {
    @include media($max: $breakpoint-m) {
      display: none;
    }
  }

  .site-alerts & {
    @include media($min: $breakpoint-m) {
      .logo-align-left &,
      .logo-align-right & {
        display: none;
      }
    }
  }
}

.customer-utils {
  text-align: right;
  @include media($max: $breakpoint-m) { display: none; }

  .button-wishlist {
    margin-right: rem-calc(38px);

    &:after {
      @extend %top-bar-sep;
    }
  }
}

.logo-align-center {
  .customer-utils {
    .button-wishlist {
      &:after {
        @extend %top-bar-sep;
        top: auto;
        bottom: 0;
      }
    }
  }
}

.button-cart-toggle {
  padding-top: rem-calc(11);
  padding-left: 0;
  transition: color 0.3s ease;

  @include media($max: $breakpoint-m) {
    position: absolute;
    right: 10px;
    top: 50%;
    transform: translateY(-50%);
  }
}

.mini-cart-subtotal {
  @include font-switcher(#{inverse-bool($header-use-primary-font)});
  margin-right: rem-calc(6px);
  vertical-align: text-top;
  line-height: 1;

  @include media($max: $breakpoint-m) {
    display: none;
  }
}

/* Nav Bar */
.main-nav-bar {
  background-color: $color-nav-background;
  position: relative;

  @include media($max: $breakpoint-m) {
    display: none;
  }

  > .container {
    display: block;
    width: 100%;
    max-width: 1230px;
    height: $navbar-height;
    text-align: $header-logo-alignment;
    transition: height $transition-navbar;

    .compressed & {
      height: $topbar-height;
    }
  }

  .site-branding {
    display: inline-block;
    width: span(2);
    height: 100%;
    margin-top: 0;
    margin-bottom: 0;

    .logo-align-right & {
      float: right;
      margin: 0;
      padding-right: 6px;
      text-align: right;
    }

    .logo-align-left { float: left; }

    .logo-align-center & { display: none; }

    @include media($max: $breakpoint-m) {
      display: none;
    }

    &:before {
      @extend %ghost-center;
    }
  }

  .site-branding-link {
    display: inline-block;
    vertical-align: middle;
    width: 100%;
    height: calc(100% - 1rem);

    &:before {
      @extend %ghost-center;
    }

    .logo-align-right & {
      width: auto;
    }

    .compressed & {
      height: 80%;
    }
  }

  .site-branding-logo {
    max-height: 100%;
    vertical-align: middle;
    padding: 10px 0;
  }

  .site-branding-title {
    display: inline-block;
    font-size: 24px;
    line-height: 1.1;
    vertical-align: middle;
    overflow-wrap: break-word;
    word-break: break-all;
  }

  .navigation {
    display: inline-block;
    vertical-align: top;
    height: 100%;
    margin-left: gutter();
    text-align: center;
    width: span(8);

    .logo-align-right & {
      float: left;
      margin-left: 0;
      text-align: left;
      max-width: 75%;
      width: auto;

      @include media($max: $breakpoint-m) {
        max-width: none;
        width: 100%;
        float: none;
        text-align: left;
      }

      .logo-align-right & {
        .enforce-max-width { max-width: 95%; }
      }

      ul li:first-child .top-level-nav-link:first-child { padding-left: 0; }
    }

    .logo-align-center & {
      display: inline-block;
      vertical-align: middle;
      margin-left: 0;
      width: auto;
    }

    > .button-search-toggle {
      .logo-align-center & { display: none; }
    }

    .button-search-toggle {
      height: 100%;
      vertical-align: top;

      svg {
        vertical-align: middle;
        margin-top: -3px;
      }
    }

    @include media($max: $breakpoint-m) {
      width: span(11);
      height: 100%;
      margin-left: rem-calc(-12);
    }

    &:before {
      @extend %ghost-center;
    }

    > ul {
      display: inline-block;

      .logo-align-right & {
        max-width: 95%;
      }

      > li {
        display: inline-block;
        margin-right: rem-calc(24);

        &.dropdown {
          > a { padding: rem-calc(16 12); }
        }

        &:not(.dropdown),
        &:not(:last-child) {
          margin-right: rem-calc(24);
        }
      }

      li:nth-last-child(n+10),
      li:nth-last-child(n+10) ~ li {
        margin-right: 0;

        @include media($max: $breakpoint-l) {
          margin-right: rem-calc(10);
        }
      }
    }
  }

  .top-level-nav-link {
    padding: rem-calc(16 0);
    display: block;
    color: $color-nav;
    font-size: rem-calc(13);
    letter-spacing: 0.077em;
    text-transform: uppercase;
    transition: color 0.3s linear, background-color 0.3s linear, padding 0.2s linear, height 0.2s linear;

    @include media($min: 1230px) {
      padding: rem-calc(16 $main-nav-spacing);
    }

    &:hover:not(.pages) {
      color: $color-accent;
    }

    &.pages {
      span:hover {
        color: $color-accent;
      }
    }
  }

  .dropdown-open > a {
    color: contrast($color-nav-active, 100%);
    background-color: rgba($color-nav-active, 0.97);

    &:hover { color: contrast($color-nav-active, 100%); }
  }

  .dropdown-panel {
    text-align: left;
    background-color: rgba($color-nav-active, 1);
  }
}

.site-branding {
  font-weight: 300;
  font-size: 32px;
  color: $color-nav;
  font-family: inherit;

  a {
    color: inherit;
    text-transform: uppercase;
    text-decoration: none;
  }
}

.simple-list {
  .navigation {
    float: none;
    width: 100%;
    padding: 0 rem-calc(10);
    margin: 0;
    text-align: left;

    .top-level-nav-link {
      padding: rem-calc(5) 0;
      white-space: nowrap;
    }

    .parent {
      display: block;
      width: 100%;
    }

    ul ul {
      width: 100%;
      margin-left: rem-calc(10);
    }
  }

  .parent > a {
    font-family: $font-secondary;
    font-size: rem-calc(17);
    color: contrast($color-nav-active, 100%);

    @if $font-secondary == "Roboto Condensed" {
      font-weight: bold;
      text-transform: uppercase;
    }
  }
}

.nav-page {
  .dropdown-panel {
    min-width: calc(100% + #{$gutter});
    white-space: nowrap;
    line-height: 1.3;
    padding-left: $gutter;
    padding-bottom: $gutter;
    padding-right: $gutter * 2;

    .navigation-mobile & {
      white-space: normal;
    }

    li:not(:last-child) {
      margin-bottom: $gutter;

      .navigation-mobile & {
        margin-bottom: 0;
      }
    }

    ul {
      margin-top: rem-calc(10);
      margin-bottom: $gutter;
    }
  }
}

.mega-nav {
  position: static;

  &.dropdown-open > a {
    height: rem-calc(77);
    padding-bottom: 39px;

    .multi-row & {
      height: auto;
      padding-bottom: 1rem;
    }

    .compressed & {
      padding-bottom: 16px;
      height: rem-calc(55);
    }
  }
}

.mega-nav-panel {
  left: 0;
  width: 100vw;
  max-height: calc(100vh - #{$expanded-nav-height});
  padding: rem-calc(40px) rem-calc(15) 0 0;
  overflow-y: auto;
  text-align: center;
  transition: top $transition-navbar;

  .container { max-height: 100%; }

  .compressed & {
    top: rem-calc(55);
  }
}

.multi-row {
  .mega-nav {
    &.dropdown-open .dropdown-toggle {
      position: relative;

      &::after {
        position: absolute;
        top: 100%;
        left: 0;
        z-index: 1;
        display: block;
        width: 100%;
        height: 47px;
        background-color: rgba($color-nav-active, 0.97);
        content: "";
      }
    }
  }
}

.mega-nav-list {
  display: flex;
  justify-content: space-between;
  text-align: left;
  flex-direction: row;

  &.wrap-cols {
    flex-wrap: wrap;

    &:after {
      flex: auto;
      content: "";
    }
  }

  a {
    display: inline-block;
    margin-bottom: 0.75rem;
    color: contrast($color-nav-active, 100%);

    &:hover {
      text-decoration: underline;
    }
  }

  .parent {
    display: inline-block;
    padding: 0 rem-calc(15);
    margin-bottom: 1.5rem;
    text-align: left;
    vertical-align: top;
    white-space: nowrap;

    > a {
      font-family: $font-secondary;
      font-size: rem-calc(17);

      @if $font-secondary == "Roboto Condensed" {
        font-weight: bold;
        text-transform: uppercase;
      }
    }
  }

  .children {
    @if $font-primary == "Roboto Slab" {
      font-family: $font-primary;
    }

    a {
      opacity: 0.5;
    }
  }

  ul ul {
    margin-top: -0.75rem;
    margin-bottom: 0.75rem;
    margin-left: rem-calc(15);

    a {
      margin-bottom: 0;
      font-family: $font-secondary;
      font-weight: 300;
    }
  }

  ul ul ul {
    margin-top: 0;
  }

  // Tier styles for shop menu mega nav
  .tier-panel {
    padding: 0;
  }

  .tier-open > a { opacity: 1; }

  .tier-toggle {
    padding-top: 0 !important; //override padding from regular dropdown padding
  }
}

.search-button-wrap {
  float: right;
  height: 100%;
  text-align: right;

  @include media($max: $breakpoint-m) {
    width: span(1);
    color: $color-nav;
  }

  &:before {
    @extend %ghost-center;
  }

  .button-search-toggle {
    vertical-align: middle;

    &:hover {
      color: $color-accent;
    }

    &:focus {
      outline: none;
      color: $color-accent;
    }
  }
}

// Breadcrumbs
.breadcrumbs {
  margin-top: rem-calc(40px);
  margin-bottom: rem-calc(25px);
  text-align: center;

  .page-header &,
  .product-listing & { margin-top: 0; }
}

.breadcrumb {
  display: inline-block;
  font-size: rem-calc(13);
  font-weight: normal;
  letter-spacing: 0.077em;
  text-transform: uppercase;

  @if ($font-secondary == "Roboto Condensed") {
    font-family: $font-secondary, sans-serif;
  }

  &:not(:last-child(-n+2)) {
    &::after {
      content: "/";
    }
  }

  a:hover {
    text-decoration: underline;
  }
}

.breadcrumb-label {
  color: $color-bold;

  &:not(.breadcrumb-link) {
    color: $color-meta;
  }
}

.product-listing-desktop-breadcrumbs {
  display: none;

  @include media($min: $breakpoint-s) {
    display: block;
  }
}

.product-listing-mobile-breadcrumbs {
  display: block;

  @include media($min: $breakpoint-s) {
    display: none;
  }
}

/* scss-combine:layout/footer */
$color-footer-background-contrast: contrast($color-footer-background, 90%);

.site-footer {
  background-color: $color-footer-background;
  color: rgba($color-footer-text, 0.5);
  font-weight: 300;
  font-size: 14px;
  border-top: 1px solid rgba($color-footer-background-contrast, 0.1);

  a {
    color: inherit;

    &:hover {
      text-decoration: underline;
    }
  }

  .footer-title {
    @extend h6;
    color: $color-footer-text;
    margin-top: 40px;
  }

  .container {
    padding-top: 35px;
  }

  // .footer-col {
  //   &:last-child {
  //   }
  // }

  .footer-nav {
    @include media($min: $breakpoint-s) {
      @include span(3);
    }

    @include media($min: $breakpoint-m) {
      @include span(2);
    }

    li {
      margin-bottom: rem-calc(8);
    }
  }

  .navigation {
    ul ul {
      margin-left: 1em;

      li {
        line-height: 1.75;
      }
    }
  }

  .footer-info {
    @include span(3);
    padding-right: 5%;
  }

  .footer-social {
    @include media($max: $breakpoint-m) {
      clear: both;
      padding-top: 3em;
    }

    @include media($min: $breakpoint-m) {
      @include span(3);
      @include last;
    }

    a {
      color: inherit;

      &:hover {
        text-decoration: none;
        color: rgba($color-footer-text, 1);
      }
    }
  }

  .social-media-link {
    display: inline-block;
    margin-right: rem-calc(20);
  }

  .bottom-bar {
    @include span(12);
    width: 100%;
    border-top: 1px solid rgba($color-footer-background-contrast, 0.1);
    text-align: center;
  }
}

.footer-nav-wrap {
  @extend %clearfix;
  padding-bottom: 57px;
}

.button-top {
  position: fixed;
  right: 12px;
  bottom: 0;
  z-index: 1000;
  width: 45px;
  height: 45px;
  color: $color-background;
  opacity: 0;
  background-color: $color-accent;
  border-radius: 4px;
  transform: translateY(100%);
  transition: transform 0.2s ease-out, background-color 0.2s ease, color 0.2s ease;

  @include media($min: $breakpoint-s) {
    right: 38px;
  }

  &:hover {
    background-color: $color-body;
    color: contrast($color-nav-active, 100%);
  }

  &.show {
    opacity: 1;
    bottom: 12px;
    transform: translateY(0);

    @include media($min: $breakpoint-s) {
      bottom: 27px;
    }

    .mini-cart-open & {
      right: $mini-cart-width + 38px;
    }
  }

  .icon {
    width: 16px;
    height: 10px;
  }
}

.footer-payment-icons-list {
  margin-top: 30px;

  li {
    display: inline-block;
    width: 50px;
    margin: 42px 5px;

    .show-credits & {
      margin: 12px 5px 0;
    }
  }

  svg {
    max-width: 80%;
  }
}

.footer-site-copyright,
.footer-theme-credits {
  display: block;
  color: $color-footer-text;
  font-size: rem-calc(13);
  font-weight: 400;
  letter-spacing: 0.077em;
  text-transform: uppercase;

  @if $font-secondary == "Roboto Condensed" {
    font-family: $font-secondary;
  }
}

.footer-site-copyright {
  margin-top: 42px;
}

.footer-theme-credits {
  margin-bottom: 42px;
}


// Pages
/* scss-combine:pages/home */
/*----------  Home Products  ----------*/

.products-new {
  background-color: $color-background-secondary;

  .product-grid-item {
    margin-bottom: 2.5rem;

    @include media($min: $breakpoint-xs) {
      @include gallery(6 of 12);
      margin-bottom: 0;

      &:first-child,
      &:nth-child(2) {
        margin-bottom: 2.5rem;
      }
    }

    @include media($min: $breakpoint-s) {
      @include gallery(3 of 12);
      margin-bottom: 0;
    }
  }
}

.products-featured {
  padding-bottom: 0;
}

/*----------  Brand List  ----------*/


.brand-list {
  display: none;
  padding-bottom: 40px;
  background-color: $color-topbar-background;
  text-align: center;

  .brand-link {
    display: inline-block;
    vertical-align: middle;
    margin: 0 20px 39px;
    transition: opacity 0.3s ease;

    @include media($min: $breakpoint-s) {
      margin-left: 30px;
      margin-right: 30px;
    }

    &:hover {
      opacity: 0.8;
    }
  }

  .brand-logo {
    max-height: 40px;
  }
}


/*----------  Blog Recent Posts  ----------*/

.blog-latest-posts {
  background-color: $color-background-secondary;

  .post {
    margin-bottom: 3rem;

    @include media($min: $breakpoint-s) {
      @include gallery(4);
      margin-bottom: 0;
    }
  }

  .post-thumb {
    @extend %background-position-img;
    @include maintain-ratio($ratio: 380 286);

    img { @extend .show-for-sr; }
  }

  .post-title { margin-bottom: 0; }

  .post-read-more {
    @extend %link-text-treatment;
    display: inline-block;
    margin-top: 20px;
    color: $color-accent;
  }
}


/*----------  Newsletter  ----------*/

.default {
  .newsletter-signup {
    background-color: $color-background;
  }
}

/* scss-combine:pages/compare */
/*----------  Top-bar Tab  ----------*/

.compare-wrap {
  position: relative;
  display: none;
  height: $topbar-height;
  vertical-align: top;

  &.compare-active {
    display: inline-block;
  }

  &:hover {
    .compare-tab {
      opacity: 1;
      visibility: visible;
      transform: translate(-50%, 0);
    }
  }
}

.button-compare-toggle {
  @extend %top-bar-font;
  position: relative;
  height: $topbar-height;
  padding-top: rem-calc(6px);
  padding-right: rem-calc(47px);
  line-height: 0;
}

.compare-items-count {
  position: absolute;
  top: 17px;
  right: $gutter;
  display: inline-block;
  width: 24px;
  height: 24px;
  line-height: 24px;
  color: $color-topbar-background;
  text-align: center;
  background-color: $color-accent;
  border-radius: 50%;
}

.compare-tab {
  position: absolute;
  top: 100%;
  left: 3px;
  width: 410px;
  height: 90vh;
  padding: $double-gutter 0;
  overflow: scroll;
  text-align: center;
  background-color: $color-mini-cart-background;
  opacity: 0;
  visibility: hidden;
  transform: translate(-50%, -15px);
  transition: all 0.3s ease;

  @include media($min: $breakpoint-m) {
    left: 50%;
  }
}

.compare-items-list {
  margin-top: $gutter;
}

.compare-tab-item {
  @extend .mini-cart-item;
  display: none;

  &.animating,
  &.visible {
    display: block;
  }

  &.animating-in,
  &.animating-out {
    transform: translateY(-10%);
    opacity: 0;
    transition: opacity 0.2s ease, transform 0.3s ease;
  }

  &.visible {
    transform: translateY(0);
    opacity: 1;
  }
}

.compare-tab-item-wrap {
  @extend .mini-cart-item-wrap;
}

.compare-tab-item-thumb {
  @extend .mini-cart-item-thumb;
}

.compare-tab-item-description {
  @extend .mini-cart-item-description;
  padding-right: $gutter;
  text-align: left;
}

.compare-tab-item-title {
  @extend .mini-cart-item-title;
}

.compare-tab-item-price {
  color: $color-accent;
  font-weight: 300;
  font-size: 20px;
}

.compare-tab-item-remove {
  position: absolute;
  top: $double-gutter;
  right: $double-gutter;
  line-height: 0;
  cursor: pointer;

  .icon-close {
    width: 10px;
    height: 10px;
    pointer-events: none; // allows JS event bubbling
  }
}

.compare-submit {
  margin-top: $gutter;

  &.is-disabled {
    @extend .button-disabled;
  }
}

/*----------  Compare Grid Item  ----------*/

.product-item-compare {
  .icon-check-mark {
    display: none;
    width: 12px;
    height: 8px;
    margin-right: 5px;
  }

  .input-checkbox:checked {
    & + .form-label-text {
      .icon-check-mark {
        display: inline-block;
      }
    }
  }

  .form-label-text {
    margin: 0;
  }
}


/*----------  Compare Page  ----------*/

.compare-content {
  margin-bottom: 200px;

  @include media($max: $breakpoint-s) {
    overflow-x: auto;
  }
}

.compare-table {
  text-align: center;
  border-color: transparent;

  .product-item-thumbnail {
    display: inline-block;
    width: 100%;
  }

  .product-item-thumbnail-image {
    @include maintain-ratio(1 1);
    background-repeat: no-repeat;
    background-position: 50% 50%;
    background-size: contain;

    .thumbnail-cover & {
      background-size: cover;
    }
  }
}

.compare-row {
  border-top-color: $color-border;

  &:first-child {
    border-color: transparent;
  }
}

.compare-table-heading {
  @extend %body-text-treatment;
  width: 20%;
  padding-left: 0;
  text-align: left;
  text-transform: none;
  font-weight: normal;
  vertical-align: top;
}

.compare-table-cell {
  min-width: 230px;
  vertical-align: top;
}

.compare-remove {
  display: block;
  margin-top: $gutter;
}

/* scss-combine:pages/cart */
.cart {
  .link {
    font-size: rem-calc(12px);
    cursor: pointer;
  }
}

.cart-table-header,
.cart-item {
  @include media($min: $breakpoint-s) {
    @include layout-group();
  }

  .cell {
    @include media($min: $breakpoint-s) {
      @include layout-group-item();
      padding-right: $gutter;
      vertical-align: middle;
    }

    &:last-child {
      padding-right: 0;

      @include media($min: $breakpoint-s) {
        text-align: right;
      }
    }
  }
}

.cart-empty { text-align: center; }


/*----------  Cart Table Header  ----------*/

.cart-table-header {
  padding-bottom: 25px;
  border-bottom: 1px solid $color-border;

  @include media($max: $breakpoint-s) {
    display: none;
  }

  .cell {
    @extend h5;
    color: $color-bold;
  }
}

.cart-item-options {
  @include media($min: $breakpoint-s) {
    width: 20%;
  }

  @include media($min: $breakpoint-m) {
    width: 30%;
  }
}

.cart-item-quantity,
.cart-item-price {
  @include media($min: $breakpoint-s) {
    width: 15%;
  }

  @include media($min: $breakpoint-m) {
    width: 10%;
  }
}


/*----------  Cart Table Items  ----------*/

.cart-item {
  padding: rem-calc(25px) 0;
  border-bottom: 1px solid $color-border;

  @include media($max: $breakpoint-s) {
    position: relative;
  }

  .cell {
    @include media($max: $breakpoint-s) {
      margin-bottom: 1em;
    }
  }
}

.cart-item-info {
  margin-bottom: $gutter;

  @include media($min: $breakpoint-xs) {
    margin-bottom: 24px;
  }

  @include media($min: $breakpoint-s) {
    width: 40%;
    margin-bottom: 0;
  }

  .product-brand {
    font-weight: bold;
  }

  .product-name {
    @extend h5;
    margin-bottom: 0.35em;
    display: block;
  }
}

.cart-item-info-wrap {
  @include layout-group;
}

.cart-item-image,
.cart-item-text {
  @include layout-group-item;
  vertical-align: middle;
}

.cart-item-image {
  width: 100px;
  border: 1px solid $color-border;

  img {
    display: block;
  }
}

.cart-item-text {
  padding-left: 20px;
  padding-right: 20px;

  @include media($min: $breakpoint-xs) {
    padding-left: $double-gutter;
  }
}

.cart-item-actions .link { margin-right: rem-calc(8px); }

.cart-label {
  margin-right: rem-calc(5px);
  color: $color-bold;

  .cart-item-quantity &,
  .cart-item-price & {
    @include media($min: $breakpoint-s) {
      display: none;
    }
  }

}

.quantity-control {
  display: inline-block;

  .button-control-action {
    @include icon-circle($size: 20px);
    line-height: 0;
    background-color: transparent;
    transition: color 0.3s ease, border-color 0.3s ease;

    &:hover {
      color: $color-accent;
      border-color: $color-accent;
    }

    &:focus {
      outline: none;
    }
  }

  .form-input[type="number"] {
    display: inline-block;
    width: rem-calc(35px);
    padding: 0;
    font-family: $font-primary;
    color: $color-body;
    text-align: center;
    cursor: pointer;
    box-shadow: none;
    -moz-appearance:textfield;

    &::-webkit-inner-spin-button,
    &::-webkit-outer-spin-button {
      appearance: none;
    }

    &:focus {
      border-bottom: 1px solid $color-meta;
    }
  }

  .icon {
    width: 10px;
    height: 10px;
    line-height: 0;
    pointer-events: none;
  }
}

.cart-item-price {
  @include media($min: $breakpoint-s) {
    position: relative;
  }

  .price-discounted { text-decoration: line-through; }
}

.cart-item-remove {
  position: absolute;
  top: rem-calc(25px);
  right: 0;

  @include media($min: $breakpoint-s) {
    top: 0;
  }

  @include media($min: $breakpoint-l) {
    top: 50%;
    right: rem-calc(-53px);
    transform: translateY(-50%);
  }

  .icon {
    width: 12px;
    height: 12px;
  }
}

/*----------  Gift Wrapping  ----------*/

.giftwrapping-detail {
  color: $color-meta;
  font-family: $font-secondary;
  font-size: rem-calc(14px);
}

.giftwrap-modal {
  max-width: rem-calc(789px);
  padding: 5vw;
  background-color: $color-background;
  border-radius: $border-radius;

  .form-field-title {
    margin-left: 0;
    display: block;
  }

  .form-radio + .form-label-text {
    font-weight: 300;
  }

  .form-input:not(.form-radio) {
    width: 100%;
  }
}

.giftwrap-subtitle,
.giftwrap-title {
  text-align: center;
}

.giftwrap-title {
  margin-top: 0;
}

.giftwrap-subtitle {
  @extend h6;
  margin-bottom: 1.5em;
  color: $color-meta;
}

.giftwrap-form {
  .form-actions {
    text-align: center;
  }

  .button + .button {
    margin-left: 1.5em;
  }
}

/*----------  Cart Totals  ----------*/

.cart-totals {
  @extend %clearfix;
}

.cart-totals-column {
  @include media($min: $breakpoint-s) {
    @include span(45%);
  }

  @include media($min: $breakpoint-m) {
    @include span(35%);
  }

  &:last-child {
    @include media($min: $breakpoint-s) {
      @include last;
    }
  }
}

.cart-totals-item {
  @extend %clearfix;
  padding: rem-calc(26px) 0;
  border-bottom: 1px solid $color-border;

  .link {
    float: right;
    clear: right;
  }

  .cart-total-item {
    + .link {
      span { display: none; }

      &:before {
        content: attr(data-change-text);
      }
    }
  }
}

.cart-total-label {
  font-weight: normal;
}

.cart-total-item {
  float: right;

  &.grand-total {
    font-weight: bold;
    color: $color-bold;
  }
}

.list-bulleted .link {
  display: block;
}

.cart-actions {
  @include media($max: $breakpoint-xs) {
    .button {
      display: block;
      margin: 2rem 0;
    }
  }

  @include media($min: $breakpoint-xs) {
    display: flex;
    justify-content: space-between;
    flex-wrap: wrap;
    border-spacing: 2rem 2rem;
    margin-top: 2rem;

    .button {
      width: calc(50% - 10px);
      padding-right: 0;
      padding-left: 0;
    }
  }
}

.checkout-multiple {
  display: block;
  width: 100%;
  margin-top: 10px;
}

.cart-additional-checkout-buttons {
  @extend %clearfix;
  text-align: center;

  // scss-lint:disable ImportantRule, QualifyingElement
  p { float: none !important; }

  form { clear: both; }

  > * {
    margin-bottom: rem-calc(15);
  }

  &:last-child {
    margin-bottom: 0;
  }
}

.apple-pay-checkout-button {
  display: none;
  box-sizing: border-box;
  min-width: rem-calc(176);
  height: rem-calc(45);
  background: {
    size: 100% 60%;
    repeat: no-repeat;
    position: 50% 55%;
  }
  border-radius: 5px;

  @if lightness($color-background) < 40 {
    background-image: -webkit-named-image(apple-pay-logo-black);
    background-color: white;
  } @else {
    background-image: -webkit-named-image(apple-pay-logo-white);
    background-color: black;
  }

  .apple-pay-supported & {
    display: inline-block;
  }
}

// Coupons

.coupon-code {
  border: 0;
}

.form-coupon {
  position: relative;
}

.coupons-active {
  margin-bottom: 0;
}

// Shipping

.shipping-calculator {
  @extend %clearfix;
  display: none;
  margin-top: 1.75rem;

  &.visible {
    display: block;
  }

  .shipping-zip {
    float: left;
  }

  .get-shipping-quotes {
    float: right;
  }

  .form-select-wrapper {
    [type="text"] + :after {
      display: none;
    }
  }

  [name="shipping-state"] {
    width: 100%;
  }
}

.shipping-quotes {
  clear: both;
}

.shipping-quote-item {
  cursor: pointer;
  margin-left: 2px;

  &:hover {
    color: $color-accent;
  }

  .form-label-text {
    margin-bottom: 0;

    .ups-shipping-badge {
      vertical-align: middle;
      margin-top: -2px;
      margin-left: 3px;
      margin-right: 3px;
    }
  }
}

// Gift Certificate

.form-gift-certificate {
  display: none;
  margin-top: 1.75rem;

  &.visible {
    display: block;
  }
}

/* scss-combine:pages/account */
.account-wrapper {
  @include container;
  @extend %wrapper-padding;
  max-width: $max-width;
  padding-top: $section-padding;
  padding-bottom: $section-padding;

  .form-field {
    @extend .form-field;
  }

  .form-field-email .form-field-control,
  .form-field-password .form-field-control {
    position: relative;
    display: block;

    &:after {
      position: absolute;
      right: rem-calc(17px);
      bottom: rem-calc(20px);
      display: block;
      content: "";
    }
  }

  .form-field-email .form-field-control {
    &:after {
      @include icon-email($color-meta);
      width: 16px;
      height: 12px;
    }
  }

  .form-field-password .form-field-control {
    &:after {
      @include icon-password($color-meta);
      width: 12px;
      height: 16px;
    }
  }

  .form-select-wrapper {
    position: relative;
    display: block;
    height: rem-calc(55);
    padding: rem-calc(19 17 18);
    color: $color-input;
    border: 0;
    border-radius: $border-radius;
    transition: border-color 0.2s $ease-out-quad;

    select {
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 100%;
      cursor: pointer;
      appearance: none;
    }
  }
}

.account-login {
  .account-button-secondary {
    margin-left: rem-calc(20);
  }
}

/*----------  Auth Modal  ----------*/

.login-modal {
  .modal-title {
    margin: 0;
    color: contrast($color-modal-background, 100%);
    text-align: center;
  }

  .account-sub-heading {
    @extend h3;
    text-align: center;
  }

  .account-login-wrapper {
    display: block;
    padding: 0;

    @include media($min: $breakpoint-s) {
      display: flex;
      align-items: stretch;
      justify-content: space-between;
    }
  }

  .account-login,
  .account-create {
    display: block;
    border-radius: $border-radius;
  }

  .account-login {
    background-color: $color-background;

    @include media($max: $breakpoint-s) {
      margin-bottom: $double-gutter;
    }
  }

  .account-button-secondary {
    padding: 0 0 3px;
    background-color: transparent;
    color: $color-button-secondary;
    border-radius: 0;
    border-bottom: 1px solid;
  }

  .account-create {
    color: contrast($color-modal-background, 100%);
    border: 2px solid rgba($color-background, 0.10);
    background: transparent;

    .account-sub-heading { color: contrast($color-modal-background, 100%); }

    .button {
      @extend .button-secondary;
      @extend %center-x;
      color: contrast($color-modal-background, 100%);
      border-color: contrast($color-modal-background, 100%);
    }
  }

  .account-create-facts li:before {
    @include icon-check-mark(contrast($color-modal-background, 100%));
  }

  .account-page-forgot .account-body {
    position: relative;
    max-width: $modal-width-narrow;
    margin: 0 auto;
    padding: 5vw;
    background-color: $color-background;
    border-radius: $border-radius;

    .account-sub-heading { display: none; }
  }
}

// Modal revealer panels
.login-register-block,
.forgot-password-block {
  display: none;

  &.animating,
  &.visible {
    display: block;
  }

  // initial state for enter transition
  &.animating-in {
    opacity: 0;
    transform: translateX(-100%);
    transition: transform 0.3s ease, opacity 0.3s ease;
  }

  // initial state for leave transition
  &.animating-out {
    opacity: 0;
    transform: translateX(100%);
    transition: transform 0.3s ease, opacity 0.3s ease;
  }

  // final states for both in and out
  &.visible {
    opacity: 1;
    transform: translateX(0);
  }
}

/*----------  Login  ----------*/

.account-login-wrapper { max-width: none; }

.account-login,
.account-create {
  width: 100%;
  padding: $double-gutter;

  @include media($min: $breakpoint-s) {
    width: span(5.75);
    padding: 2vw;
  }

  @include media($min: $breakpoint-m) {
    padding: 5vw;
  }
}

.auth-sub-heading {
  @extend h3;
  margin-top: 0;
  text-align: center;
}

.auth-login-form {
  .button,
  .auth-button-alt {
    display: inline-block;
    width: span(5.75);
  }

  .auth-button-alt {
    text-align: right;
    text-decoration: underline;
  }
}

.account-create-facts {
  padding-left: 0;
  font-family: $font-secondary;
  font-size: 13px;
  letter-spacing: 1px;
  text-transform: uppercase;
  list-style: none;

  li {
    margin-bottom: 0.5em;

    &:before {
      @include icon-check-mark($color-body);
      display: inline-block;
      width: 13px;
      height: 13px;
      margin-right: rem-calc(15px);
      content: "";
    }
  }
}

/*----------  Forgot Password  ----------*/

.auth-forgot-password-message { text-align: center; }

.auth-forgot-password {
  .form { @include layout-group; }

  .form-field,
  .form-actions {
    @include layout-group-item;
    vertical-align: bottom;
  }

  .form-actions {
    width: 33%;
    text-align: right;
  }
}

/*----------  Nav  ----------*/

.account-nav-list {
  text-transform: uppercase;
  border: 0;

  @if $font-primary == "Roboto Slab" {
    font-family: $font-secondary;
  }
}

.account-nav-item {
  color: inherit;
  border: 0;

  &.is-active {
    border: 0;
    color: $color-accent;
  }
}

.account-nav-link {
  padding: rem-calc(10) 0;
}

/*----------  Products  ----------*/

.account-product-item {
  @extend .product-grid-item;
  margin-bottom: 3rem;

  @include media($min: $breakpoint-xs) {
    @include gallery(6 of 12);
  }

  @include media($min: $breakpoint-m) {
    @include gallery(4 of 12);
  }
}

/* scss-combine:pages/blog */
  /*----------  Blog Index  ----------*/

.blog {
  .post-thumb {
    background: none !important; // over-ride inline style
  }

  .post-read-more {
    @extend .button;
    @extend .button-wide;
  }
}

.blog-items-list {
  .post {
    max-width: $blog-index-width;
    padding-bottom: $section-padding;
    margin: $section-padding auto 0;
    border-bottom: 1px solid $color-border;

    &:last-child {
      border: 0;
    }
  }

  .post-thumb {
    margin-bottom: 1rem;
  }

  .post-title,
  .post-meta {
    text-align: center;
  }

  .post-title {
    @extend h1;
    margin-top: 0;
    margin-bottom: 1rem;
  }

  .post-summary {
    margin-bottom: $double-gutter;
    text-align: center;
  }

  .post-summary-actions {
    text-align: center;
  }

  .share-buttons-nav {
    display: inline-block;
    margin-top: rem-calc(30px);

    @include media($min: $breakpoint-xs) {
      margin-top: 0;
      margin-left: rem-calc(30px);
    }
  }
}

.post-thumb,
.featured-image-container {
  display: block;

  img {
    width: 100%;
  }
}

.post {
  .icon-calendar,
  .icon-avatar {
    width: 16px;
    height: 16px;
    margin-right: 10px;
    transform: translateY(-1px);
  }
}

.post-meta {
  font-weight: 400;
  font-size: rem-calc(11);
  letter-spacing: 0.09em;
  color: $color-meta;
  text-transform: uppercase;

  @if $font-secondary == "Roboto Condensed" {
    font-family: $font-secondary;
  }

  > * { vertical-align: middle; }
}

.post-date {
  margin-right: 38px;
}


/*----------  Blog Single  ----------*/

.blog-content {
  padding: 0 20px;

  @include media($min: $breakpoint-s) {
    padding: 0;
  }
}

.blog-post-single {
  .post-header {
    background-color: transparent;
  }

  .post-meta {
    margin-bottom: 0;
  }

  .post-main {
    max-width: $blog-index-width;
    margin: 0 auto;
  }

  .post-footer {
    margin-bottom: rem-calc(160px);
    text-align: center;

    .post-tags,
    .share-buttons-nav {
      margin-top: $section-padding;
    }
  }
}

.post-tag {
  padding: rem-calc(10px);
  margin-right: 6px;
  background-color: $color-background-secondary;
  border-radius: $border-radius;
  transition: all 0.3s ease;

  &:before { content: "#"; }

  &:hover {
    color: contrast($color-body, 80%);
    background-color: shade($color-background-secondary, 20%);
  }
}

/*----------  Share Buttons  ----------*/

.share-buttons { line-height: 0; }

.social-link {
  display: inline-block;
  margin-right: rem-calc(10);
  vertical-align: middle;

  a {
    color: $color-meta;

    &:hover {
      color: $color-accent;
    }
  }

  .icon {
    width: 28px;
    height: 14px;
  }
}

.fb-like iframe { max-width: none; }

/* scss-combine:pages/brands */
.brand-items-list {
  font-size: 0;
}

.brand-item {
  display: inline-block;
  width: 50%;
  padding: $gutter;
  font-size: $font-size;
  text-align: center;
  vertical-align: bottom;

  @include media($min: $breakpoint-s) {
    width: span(25%);
  }

  a {
    position: relative;
    display: block;
    padding: 50% 0;
    color: inherit;
    border: 1px solid $color-border;
    transition: all 0.6s ease-out;

    &:hover {
      background-color: $color-bold;
      color: contrast($color-bold, 100%);
      transition: all 0.3s ease-out
    }

    .brand-name {
      position: absolute;
      max-width: 75%;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }
  }
}

.brand-item-image-container {
  overflow: hidden;

  .brand-name {
    display: block;
    width: 100%;
    max-width: 100%;
    background-color: rgba($color-background, 0.75);
    transition: background-color 0.6s ease-out;
  }

  .brand-item:hover & {
    .brand-name {
      background-color: rgba($color-bold, 0.75);
    }
  }
}

.brand-item-title {
  font-family: $font-secondary;
  text-transform: uppercase;
  margin: 0;
}

/* scss-combine:pages/contact-us */
.form-contact-us {
  @extend %form-base-style;

  .form-input { width: 100%; }

  .form-actions { text-align: center; }
}

/* scss-combine:pages/gift-certificates */
.giftcard-sidebar {
  @include media($min: $breakpoint-s) {
    @include span(3);
    padding-right: $double-gutter;
  }
}

.giftcard-content {
  padding-bottom: $section-padding;

  @include media($min: $breakpoint-s) {
    @include span(9);
    @include last;
  }

  .giftcard-subheading {
    margin: 1.5em 0;
  }
}

.giftcard-nav {
  margin-bottom: 3rem;
  text-align: left;
}

.giftcard-header {
  @extend h2;
  padding-bottom: rem-calc(10);
  border-bottom: 1px solid $color-border;
}

.giftcard-nav-item {
  @extend %link-text-treatment;
  margin: 0 rem-calc(8) rem-calc(10);
  text-decoration: none;
  color: $color-meta;

  &.is-active {
    color: $color-accent;
  }
}

.giftcard-body {
  .giftcertificates & {
    padding: rem-calc(50 72);
    background-color: $color-background-secondary;
  }

  .form-input:not(.form-radio) {
    width: 100%;
  }

  .giftcard-heading,
  .giftcard-subheading {
    display: none;
  }
}

.giftcard-form-preview {
  iframe {
    width: 100%;
  }
}

.form-giftcard-balance {
  @include layout-group;

  .form-field,
  .form-actions {
    @include layout-group-item;
    vertical-align: bottom;
  }

  .form-field {
    width: 90%;
    padding-right: rem-calc(30);
  }
}

.giftcard-balance-container {
  margin: 0;
}

.giftcard-form-theme {
  .form-field-control {
    overflow: hidden;
  }

  .form-field {
    @extend %clearfix;
  }

  .form-label {
    @include gallery(4);
  }
}

.giftcard-form-actions {
  text-align: center;
}


#giftcard-amount {
  @include media($min: $breakpoint-s) {
    width: calc(50% - 8px);
  }
}

.giftcard-form-help-message {
  @include media($min: $breakpoint-s) {
    float: left;
    position: relative;
    top: -40px;
    margin-left: calc(50% + 10px);
  }
}

.giftcard-redeem-steps {
  margin-left: 1em;
}


/* scss-combine:pages/sitemap */
.sitemap-group {
  display: inline-block;
  width: 33%;
  margin-bottom: 50px;
  padding: 0 15px;
  vertical-align: top;

  @include media($max: $breakpoint-m) {
    width: 32%;

    &:last-child {
      margin-bottom: 0;
    }
  }

  @include media($max: $breakpoint-xs) {
    width: 100%;
  }
}

.sitemap-title {
  font-size: 16px;
}

.sitemap-showall {
  display: block;
  margin-top: 15px;
  font-weight: 600;
}

/*Import AuthenTEAK Custom CSS*/
@import "custom";
